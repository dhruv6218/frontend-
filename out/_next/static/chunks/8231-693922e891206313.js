"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8231],{1356:(e,a,t)=>{t.d(a,{A:()=>i});var r=t(5155);t(2115);var s=t(5206);function i(e){let{children:a,color:t="#7df9ff",speed:i=1,chaos:n=.5,thickness:l=2,style:o,className:c}=e,d=Math.max(2,8/Math.max(.1,i));return(0,r.jsx)(s.P.div,{initial:{backgroundPosition:"0% 50%",filter:"hue-rotate(0deg)"},animate:{backgroundPosition:["0% 50%","200% 50%","0% 50%"],filter:["hue-rotate(".concat(10*n,"deg)"),"hue-rotate(".concat(60*n,"deg)"),"hue-rotate(".concat(10*n,"deg)")]},transition:{duration:d,repeat:1/0,ease:"linear"},className:["relative rounded-[16px]",null!=c?c:""].join(" "),style:{backgroundImage:"linear-gradient(90deg, transparent, ".concat(t,", transparent)"),backgroundSize:"200% 100%",padding:l,boxShadow:"0 0 16px ".concat(t),...o},children:(0,r.jsx)("div",{className:"rounded-[14px] bg-white/60 backdrop-blur border border-neutral-200/70",children:a})})}},3697:(e,a,t)=>{t.d(a,{A:()=>o,O:()=>l});var r=t(5155),s=t(2115),i=t(9984);let n=(0,s.createContext)({user:null,loading:!0,isAuthenticated:!1,login:async()=>{},logout:async()=>{}});function l(e){let{children:a}=e,[t,l]=(0,s.useState)(null),[o,c]=(0,s.useState)(!0);(0,s.useEffect)(()=>{(async()=>{try{let e=await i.G.auth.getSession();l(e)}catch(e){}finally{c(!1)}})()},[]);let d=async e=>{c(!0);try{let a=await i.G.auth.login(e);l(a)}finally{c(!1)}},u=async()=>{c(!0);try{await i.G.auth.logout(),l(null)}finally{c(!1)}};return(0,r.jsx)(n.Provider,{value:{user:t,loading:o,isAuthenticated:!!t,login:d,logout:u},children:a})}let o=()=>(0,s.useContext)(n)},5695:(e,a,t)=>{var r=t(8999);t.o(r,"usePathname")&&t.d(a,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(a,{useRouter:function(){return r.useRouter}})},5886:(e,a,t)=>{t.d(a,{A:()=>g});var r=t(5155),s=t(2115),i=t(6874),n=t.n(i),l=t(5695),o=t(7347),c=t(3697);let d=[{label:"Overview",href:"/dashboard",icon:"mdi:view-dashboard",roles:["user"]},{label:"Hub",href:"/dashboard/hub",icon:"mdi:apps",roles:["user"]},{label:"Verify: GST",href:"/dashboard/verify/gst",icon:"mdi:receipt",roles:["user"]},{label:"Verify: PAN",href:"/dashboard/verify/pan",icon:"mdi:id-card",roles:["user"]},{label:"Verify: Aadhaar",href:"/dashboard/verify/aadhaar",icon:"mdi:card-account-details",roles:["user"]},{label:"Verify: Passport",href:"/dashboard/verify/passport",icon:"mdi:passport",roles:["user"]},{label:"Verify: DIN",href:"/dashboard/verify/din",icon:"mdi:account-badge",roles:["user"]},{label:"Verify: MCA",href:"/dashboard/verify/mca",icon:"mdi:domain",roles:["user"]},{label:"Verify: Bank",href:"/dashboard/verify/bank",icon:"mdi:bank",roles:["user"]},{label:"All-in-One",href:"/dashboard/verify/all-in-one",icon:"mdi:vector-combine",roles:["user"]},{label:"Bulk Upload",href:"/dashboard/bulk-upload",icon:"mdi:upload",roles:["user"]},{label:"Reports",href:"/dashboard/reports",icon:"mdi:file-chart",roles:["user"]},{label:"Billing",href:"/dashboard/billing",icon:"mdi:credit-card-outline",roles:["user"]},{label:"Integrations",href:"/dashboard/integrations",icon:"mdi:puzzle-outline",roles:["user"]},{label:"Notifications",href:"/dashboard/notifications",icon:"mdi:bell-outline",roles:["user"]},{label:"Settings",href:"/dashboard/settings",icon:"mdi:cog-outline",roles:["user"]},{label:"Admin: Overview",href:"/admin",icon:"mdi:shield-account",roles:["admin"]},{label:"Users",href:"/admin/users",icon:"mdi:account-group-outline",roles:["admin"]},{label:"Blog",href:"/admin/blog",icon:"mdi:blogger",roles:["admin"]},{label:"API Keys",href:"/admin/api-keys",icon:"mdi:key-variant",roles:["admin"]},{label:"Payments",href:"/admin/payments",icon:"mdi:currency-inr",roles:["admin"]},{label:"Audit Logs",href:"/admin/audit-logs",icon:"mdi:clipboard-text-clock-outline",roles:["admin"]},{label:"Settings",href:"/admin/settings",icon:"mdi:application-cog-outline",roles:["admin"]}];function u(e){let{collapsed:a}=e,{user:t}=(0,c.A)(),i=function(e){let a=((null==e?void 0:e.role)||"user").toLowerCase();return"manager"===a||"admin"===a||"service"===a?a:"user"}(t),u=(0,l.usePathname)(),m=(0,s.useMemo)(()=>d.filter(e=>e.roles.includes(i)),[i]);return(0,r.jsxs)("aside",{className:"h-full border-r border-neutral-200/70 bg-white/70 backdrop-blur",children:[(0,r.jsx)("div",{className:"px-2 py-3",children:(0,r.jsx)("p",{className:"px-2 text-[11px] uppercase tracking-wide text-neutral-500",children:"Navigation"})}),(0,r.jsx)("nav",{className:"px-2 pb-4 space-y-1",children:m.map(e=>{let t=u===e.href||"/"!==e.href&&u.startsWith(e.href);return(0,r.jsxs)(n(),{href:e.href,className:"flex items-center gap-2 rounded-lg px-2 py-2 text-sm transition ".concat(t?"bg-orange-50 text-orange-700 border border-orange-200":"hover:bg-neutral-100"),children:[(0,r.jsx)(o.In,{icon:e.icon,width:18}),!a&&(0,r.jsx)("span",{children:e.label})]},e.href)})})]})}function m(e){let{onToggleSidebar:a}=e,{user:t,logout:i}=(0,c.A)(),[l,d]=(0,s.useState)("light"),[u,m]=(0,s.useState)(0),h=t&&t.displayName?String(t.displayName):"Account",p=t&&t.role?String(t.role):"user";return(0,s.useEffect)(()=>{m(3)},[]),(0,r.jsxs)("div",{className:"h-12 border-b border-neutral-200/70 bg-white/70 backdrop-blur flex items-center justify-between px-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("button",{"aria-label":"Toggle sidebar",className:"p-2 rounded-md hover:bg-neutral-100",onClick:a,children:(0,r.jsx)(o.In,{icon:"mdi:menu",width:18})}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(o.In,{icon:"mdi:magnify",width:18,className:"absolute left-2 top-1/2 -translate-y-1/2 text-neutral-500"}),(0,r.jsx)("input",{type:"text","aria-label":"Search",placeholder:"Search vendors, reports, or IDs…",className:"pl-7 pr-3 py-1.5 rounded-md border border-neutral-200/70 text-sm w-64 bg-white/80"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("button",{"aria-label":"Toggle theme",onClick:()=>d(e=>"light"===e?"dark":"light"),className:"px-2 py-1.5 text-xs rounded-md border border-neutral-200/70 bg-white/80",children:(0,r.jsx)("span",{children:"light"===l?"Light":"Dark"})}),(0,r.jsxs)(n(),{href:"/dashboard/notifications","aria-label":"Notifications",className:"relative p-2 rounded-md hover:bg-neutral-100",children:[(0,r.jsx)(o.In,{icon:"mdi:bell-outline",width:18}),u>0&&(0,r.jsx)("span",{className:"absolute -top-0.5 -right-0.5 h-4 w-4 text-[10px] rounded-full bg-orange-500 text-white flex items-center justify-center",children:u})]}),(0,r.jsxs)("div",{className:"relative group",children:[(0,r.jsxs)("button",{"aria-label":"User menu",className:"flex items-center gap-2 px-2 py-1.5 rounded-md border border-neutral-200/70 bg-white/80",children:[(0,r.jsx)(o.In,{icon:"mdi:account-circle",width:18}),(0,r.jsx)("span",{className:"text-xs",children:h}),(0,r.jsx)(o.In,{icon:"mdi:chevron-down",width:16})]}),(0,r.jsx)("div",{className:"absolute right-0 mt-1 w-48 rounded-md border border-neutral-200/70 bg-white/90 backdrop-blur shadow hidden group-hover:block",children:(0,r.jsxs)("ul",{className:"py-1 text-sm",children:[(0,r.jsxs)("li",{className:"px-3 py-2 text-neutral-600",children:["Role: ",p]}),(0,r.jsx)("li",{children:(0,r.jsx)("button",{className:"w-full text-left px-3 py-2 hover:bg-neutral-100",children:"Profile"})}),(0,r.jsx)("li",{children:(0,r.jsx)("button",{className:"w-full text-left px-3 py-2 hover:bg-neutral-100",onClick:()=>i(),children:"Sign out"})})]})})]})]})]})}function h(e){let{children:a}=e,[t,i]=(0,s.useState)(!1);return(0,r.jsxs)("div",{className:"min-h-[80vh] rounded-2xl border border-neutral-200/70 bg-white/60 backdrop-blur overflow-hidden",children:[(0,r.jsx)(m,{onToggleSidebar:()=>i(e=>!e)}),(0,r.jsxs)("div",{className:"grid grid-cols-[auto,1fr]",style:{gridTemplateColumns:t?"56px 1fr":"240px 1fr"},children:[(0,r.jsx)("div",{className:"min-h-[70vh]",children:(0,r.jsx)(u,{collapsed:t})}),(0,r.jsx)("main",{className:"p-4",children:a})]})]})}var p=t(1356);function g(e){let{title:a,subtitle:t,children:s}=e;return(0,r.jsx)(h,{children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-xl",style:{fontFamily:"var(--font-geist)",fontWeight:600},children:(0,r.jsx)("span",{children:a})}),t&&(0,r.jsx)("p",{className:"text-sm text-neutral-600 mt-1",children:(0,r.jsx)("span",{children:t})})]}),(0,r.jsx)(p.A,{color:"#F97316",chaos:.4,speed:1.2,children:(0,r.jsx)("div",{className:"p-4",children:s})})]})})}},6310:(e,a,t)=>{t.d(a,{A:()=>c});var r=t(5155),s=t(2115),i=t(3697),n=t(5695),l=t(5206);function o(e){let a=((null==e?void 0:e.role)||"user").toLowerCase();return"manager"===a||"admin"===a||"service"===a?a:"user"}function c(e){let{children:a,allowedRoles:t}=e,{isAuthenticated:c,user:d,loading:u}=(0,i.A)(),m=(0,n.useRouter)(),h=(0,n.usePathname)();if((0,s.useEffect)(()=>{if(!u){if(!c)return void m.replace("/auth/sign-in?from=".concat(encodeURIComponent(h)));let e=o(d);t.includes(e)||m.replace("/auth/sign-in?from=".concat(encodeURIComponent(h)))}},[u,c,d,t,m,h]),u)return(0,r.jsx)("div",{className:"min-h-[60vh] flex items-center justify-center",children:(0,r.jsx)(l.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{repeat:1/0,duration:1.2,repeatType:"reverse"},className:"h-8 w-8 rounded-full border-2 border-orange-400 border-t-transparent",style:{animation:"spin 1s linear infinite"},"aria-label":"Loading"})});if(!c)return(0,r.jsx)("div",{className:"min-h-[60vh] flex items-center justify-center",children:(0,r.jsx)("p",{className:"text-sm",children:"Redirecting to sign in…"})});let p=o(d);return t.includes(p)?(0,r.jsx)(r.Fragment,{children:a}):null}},8233:(e,a,t)=>{t.d(a,{MOCK_REPORTS:()=>i,kp:()=>s,o1:()=>r});let r=[{id:"user_1",email:"admin@example.com",name:"Admin User",role:"admin",credits:100,plan_id:"plan_pro",avatar_url:"https://api.dicebear.com/7.x/avataaars/svg?seed=admin"},{id:"user_2",email:"user@example.com",name:"Regular User",role:"user",credits:5,plan_id:"plan_basic",avatar_url:"https://api.dicebear.com/7.x/avataaars/svg?seed=user"}],s=[{id:"verif_1",type:"gst",status:"completed",payload:{gstin:"27AABCU9603R1ZX"},result:{status:"success",details:{legal_name:"ACME Corp",status:"Active"}},created_at:new Date(Date.now()-864e5).toISOString()},{id:"verif_2",type:"pan",status:"processing",payload:{pan:"ABCDE1234F"},created_at:new Date().toISOString()}],i=[{id:"RPT-1023",vendor:"Shree Logistics Pvt Ltd",type:"All-in-One",created_at:new Date(Date.now()-1728e5).toISOString(),risk_level:18,status:"Active",expires_at:new Date(Date.now()+432e6).toISOString(),pdf_url:null,drive_file_id:null},{id:"RPT-1022",vendor:"Neo Components",type:"PAN",created_at:new Date(Date.now()-5184e5).toISOString(),risk_level:74,status:"Active",expires_at:new Date(Date.now()+864e5).toISOString(),pdf_url:null,drive_file_id:null},{id:"RPT-1021",vendor:"Apex Supplies",type:"Bank",created_at:new Date(Date.now()-6912e5).toISOString(),risk_level:16,status:"Expired",expires_at:new Date(Date.now()-864e5).toISOString(),pdf_url:null,drive_file_id:null}];new Date().toISOString(),new Date().toISOString()},9984:(e,a,t)=>{t.d(a,{G:()=>i});var r=t(8233);let s=e=>new Promise(a=>setTimeout(a,e)),i={auth:{login:async e=>{await s(100);let a=r.o1.find(a=>a.email===e);if(a)return localStorage.setItem("mock_session",JSON.stringify(a)),a;throw Error("Invalid credentials")},logout:async()=>{await s(100),localStorage.removeItem("mock_session")},getSession:async()=>{await s(100);let e=localStorage.getItem("mock_session");return e?JSON.parse(e):null}},verifications:{list:async()=>(await s(100),r.kp),create:async(e,a)=>(await s(100),{id:"verif_".concat(Date.now()),type:e,status:"processing",created_at:new Date().toISOString(),payload:a,result:"aadhaar_send_otp"===e?{reqId:"mock_req_id_123"}:{}})},files:{upload:async e=>(await s(100),{success:!0,url:URL.createObjectURL(e),name:e.name})},settings:{update2FA:async e=>(await s(100),{two_factor_enabled:e}),updateBranding:async e=>(await s(100),{success:!0}),logoutAll:async()=>(await s(100),{success:!0})},notifications:{list:async()=>(await s(100),[{id:"1",message:"Welcome to Ravono",read:!1}]),markAllRead:async()=>(await s(100),{success:!0}),updatePrefs:async e=>(await s(100),{success:!0})},bulkJobs:{list:async()=>{await s(100);let e=localStorage.getItem("mock_bulk_jobs");return e?JSON.parse(e):[]},create:async(e,a)=>{await s(100);let t={id:"job_".concat(Date.now()),name:a||"Bulk Job ".concat(new Date().toLocaleDateString()),status:"processing",created_at:new Date().toISOString(),total_rows:25,success_count:0,fail_count:0,file_url:e,errors:[]},r=localStorage.getItem("mock_bulk_jobs"),i=r?JSON.parse(r):[];return i.push(t),localStorage.setItem("mock_bulk_jobs",JSON.stringify(i)),setTimeout(()=>{let e=JSON.parse(localStorage.getItem("mock_bulk_jobs")||"[]"),a=e.findIndex(e=>e.id===t.id);-1!==a&&(e[a].status="completed",e[a].success_count=23,e[a].fail_count=2,e[a].errors=[{row:5,vendor:"Vendor A",error:"Invalid GSTIN format"},{row:12,vendor:"Vendor B",error:"PAN verification failed"}],e[a].report_ids=Array.from({length:23},(e,a)=>"RPT-".concat(Date.now(),"-").concat(a)),localStorage.setItem("mock_bulk_jobs",JSON.stringify(e)))},3e3),t},get:async e=>{await s(100);let a=localStorage.getItem("mock_bulk_jobs");return(a?JSON.parse(a):[]).find(a=>a.id===e)||null}},testimonials:{submit:async e=>(await s(100),{success:!0})},contact:{submit:async e=>(await s(100),{success:!0})},serviceOrders:{list:async()=>(await s(100),[{id:"order_1",client:"Acme Corp",items:5,status:"pending"},{id:"order_2",client:"Tech Solutions",items:3,status:"completed"}]),complete:async e=>(await s(100),{success:!0})},reports:{list:async()=>{await s(100);let{MOCK_REPORTS:e}=await Promise.resolve().then(t.bind(t,8233));return e},get:async e=>{await s(100);let{MOCK_REPORTS:a}=await Promise.resolve().then(t.bind(t,8233));return a.find(a=>a.id===e)||null},saveToDrive:async e=>(await s(100),{success:!0,drive_file_id:"drive_".concat(Date.now())}),downloadPDF:async e=>(await s(100),{success:!0,pdf_url:"https://storage.example.com/reports/".concat(e,".pdf")})},integrations:{createKey:async e=>(await s(100),{id:"key_".concat(Date.now()),last4:"1234",createdAt:new Date().toISOString(),scope:e}),revokeKey:async e=>(await s(100),{success:!0}),createWebhook:async(e,a)=>(await s(100),{id:"wh_".concat(Date.now()),url:e,events:a}),testWebhook:async e=>(await s(100),{success:!0}),getDriveStatus:async()=>{await s(100);let e="true"===localStorage.getItem("mock_drive_connected");return{connected:e,email:e?"user@gmail.com":null,auto_save:"true"===localStorage.getItem("mock_drive_auto_save")}},connectDrive:async()=>(await s(100),localStorage.setItem("mock_drive_connected","true"),localStorage.setItem("mock_drive_email","user@gmail.com"),{success:!0,email:"user@gmail.com"}),disconnectDrive:async()=>(await s(100),localStorage.removeItem("mock_drive_connected"),localStorage.removeItem("mock_drive_email"),localStorage.removeItem("mock_drive_auto_save"),{success:!0}),setAutoSave:async e=>(await s(100),localStorage.setItem("mock_drive_auto_save",e?"true":"false"),{success:!0,auto_save:e})}}}}]);