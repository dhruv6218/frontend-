(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3343],{482:(e,t,s)=>{Promise.resolve().then(s.bind(s,7880))},7880:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var a=s(5155),l=s(2115),r=s(6310),n=s(7347),i=s(5206),d=s(1223);function c(){let[e,t]=(0,l.useState)(""),[s,c]=(0,l.useState)(null),[x,o]=(0,l.useState)(""),[m,u]=(0,l.useState)(""),[h,p]=(0,l.useState)(d.hH),[b,g]=(0,l.useState)(!1),j=()=>{c(d.rB.find(t=>t.email.toLowerCase()===e.toLowerCase())||null)};return(0,a.jsx)(r.A,{allowedRoles:["admin"],children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold text-neutral-900",style:{fontFamily:"var(--font-geist)"},children:"Credits Management"}),(0,a.jsx)("p",{className:"text-sm text-neutral-500 mt-1",children:"Adjust user credits and view history"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-neutral-200/70 p-6 mb-6",children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-neutral-900 mb-2",children:"Search User by Email"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(n.In,{icon:"mdi:email-outline",width:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-neutral-400"}),(0,a.jsx)("input",{type:"email",placeholder:"user@example.com",value:e,onChange:e=>t(e.target.value),onKeyPress:e=>"Enter"===e.key&&j(),className:"w-full pl-10 pr-3 py-2.5 rounded-lg border border-neutral-200 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500"})]}),(0,a.jsx)("button",{onClick:j,className:"px-6 py-2.5 rounded-lg bg-gradient-to-r from-orange-500 to-blue-600 text-white font-medium text-sm hover:shadow-lg transition",children:"Search"})]})]}),s&&(0,a.jsxs)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl border border-neutral-200/70 p-6 mb-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-neutral-900 mb-4",style:{fontFamily:"var(--font-geist)"},children:"User Details"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-neutral-500 mb-1",children:"Name"}),(0,a.jsx)("p",{className:"text-sm font-medium text-neutral-900",children:s.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-neutral-500 mb-1",children:"Email"}),(0,a.jsx)("p",{className:"text-sm font-medium text-neutral-900",children:s.email})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-neutral-500 mb-1",children:"Plan"}),(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("Business"===s.plan?"bg-purple-100 text-purple-700":"Professional"===s.plan?"bg-blue-100 text-blue-700":"Starter"===s.plan?"bg-green-100 text-green-700":"bg-neutral-100 text-neutral-700"),children:s.plan})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-neutral-500 mb-1",children:"Current Credits"}),(0,a.jsxs)("p",{className:"text-sm font-medium text-neutral-900",children:[s.credits," / ",s.monthlyLimit]})]})]}),(0,a.jsxs)("div",{className:"border-t border-neutral-200 pt-6",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-neutral-900 mb-4",children:"Adjust Credits"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Change Amount (use + or -)"}),(0,a.jsx)("input",{type:"number",placeholder:"e.g., +50 or -20",value:x,onChange:e=>o(e.target.value),className:"w-full px-3 py-2.5 rounded-lg border border-neutral-200 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:["Reason ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("textarea",{placeholder:"Explain why credits are being adjusted...",value:m,onChange:e=>u(e.target.value),rows:3,className:"w-full px-3 py-2.5 rounded-lg border border-neutral-200 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 resize-none"})]}),(0,a.jsx)("button",{onClick:()=>{s&&x&&m&&(p([{id:String(Date.now()),timestamp:new Date,adminName:"Admin User",userEmail:s.email,change:parseInt(x),reason:m},...h]),o(""),u(""),g(!0),setTimeout(()=>g(!1),3e3))},disabled:!x||!m,className:"w-full px-4 py-2.5 rounded-lg bg-gradient-to-r from-orange-500 to-blue-600 text-white font-medium text-sm hover:shadow-lg transition disabled:opacity-50 disabled:cursor-not-allowed",children:"Apply Change"})]})]}),b&&(0,a.jsxs)(i.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-4 p-3 rounded-lg bg-green-50 border border-green-200 flex items-center gap-2 text-sm text-green-700",children:[(0,a.jsx)(n.In,{icon:"mdi:check-circle",width:18}),(0,a.jsx)("span",{children:"Credits updated successfully!"})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-neutral-200/70 overflow-hidden",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-neutral-200",children:(0,a.jsx)("h2",{className:"text-lg font-semibold text-neutral-900",style:{fontFamily:"var(--font-geist)"},children:"Recent Credit Changes"})}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"text-left px-4 py-3 text-xs font-semibold text-neutral-600 uppercase tracking-wider",children:"Time"}),(0,a.jsx)("th",{className:"text-left px-4 py-3 text-xs font-semibold text-neutral-600 uppercase tracking-wider",children:"Admin"}),(0,a.jsx)("th",{className:"text-left px-4 py-3 text-xs font-semibold text-neutral-600 uppercase tracking-wider",children:"User Email"}),(0,a.jsx)("th",{className:"text-left px-4 py-3 text-xs font-semibold text-neutral-600 uppercase tracking-wider",children:"Change"}),(0,a.jsx)("th",{className:"text-left px-4 py-3 text-xs font-semibold text-neutral-600 uppercase tracking-wider",children:"Reason"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-neutral-100",children:h.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-neutral-50 transition",children:[(0,a.jsx)("td",{className:"px-4 py-3 text-sm text-neutral-600",children:new Date(e.timestamp).toLocaleString("en-IN",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm text-neutral-900",children:e.adminName}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm text-neutral-600",children:e.userEmail}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat(e.change>0?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:[e.change>0?"+":"",e.change]})}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm text-neutral-600",children:e.reason})]},e.id))})]})}),0===h.length&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(n.In,{icon:"mdi:history",width:48,className:"mx-auto text-neutral-300 mb-3"}),(0,a.jsx)("p",{className:"text-sm text-neutral-500",children:"No credit changes yet"})]})]})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[5206,7347,140,8441,1684,7358],()=>t(482)),_N_E=e.O()}]);