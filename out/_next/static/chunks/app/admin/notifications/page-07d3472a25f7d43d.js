(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[993],{6372:(e,t,s)=>{Promise.resolve().then(s.bind(s,8458))},8458:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var l=s(5155),a=s(2115),n=s(6310),r=s(7347),i=s(5206),d=s(1223);function c(){let[e,t]=(0,a.useState)("all"),[s,c]=(0,a.useState)([]),[o,x]=(0,a.useState)(""),[m,u]=(0,a.useState)(""),[h,p]=(0,a.useState)(["In-app"]),[b,g]=(0,a.useState)(d.pG),[f,N]=(0,a.useState)(!1),j=e=>{h.includes(e)?p(h.filter(t=>t!==e)):p([...h,e])};return(0,l.jsx)(n.A,{allowedRoles:["admin"],children:(0,l.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("h1",{className:"text-2xl font-semibold text-neutral-900",style:{fontFamily:"var(--font-geist)"},children:"Notifications"}),(0,l.jsx)("p",{className:"text-sm text-neutral-500 mt-1",children:"Send notifications to users"})]}),(0,l.jsxs)("div",{className:"bg-white rounded-xl border border-neutral-200/70 p-6 mb-6",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold text-neutral-900 mb-4",style:{fontFamily:"var(--font-geist)"},children:"Send Notification"}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Audience"}),(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsx)("button",{onClick:()=>t("all"),className:"flex-1 px-4 py-2.5 rounded-lg text-sm font-medium transition ".concat("all"===e?"bg-orange-100 text-orange-700 border-2 border-orange-300":"bg-neutral-100 text-neutral-600 border-2 border-transparent"),children:"All Users"}),(0,l.jsx)("button",{onClick:()=>t("selected"),className:"flex-1 px-4 py-2.5 rounded-lg text-sm font-medium transition ".concat("selected"===e?"bg-orange-100 text-orange-700 border-2 border-orange-300":"bg-neutral-100 text-neutral-600 border-2 border-transparent"),children:"Selected Users"})]})]}),"selected"===e&&(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Select Users"}),(0,l.jsx)("input",{type:"text",placeholder:"Search and select users...",className:"w-full px-3 py-2.5 rounded-lg border border-neutral-200 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500"}),(0,l.jsxs)("p",{className:"text-xs text-neutral-500 mt-1",children:[s.length," users selected"]})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsxs)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:["Title ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsx)("input",{type:"text",placeholder:"Notification title...",value:o,onChange:e=>x(e.target.value),className:"w-full px-3 py-2.5 rounded-lg border border-neutral-200 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500"})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsxs)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:["Message ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsx)("textarea",{placeholder:"Your message...",value:m,onChange:e=>u(e.target.value),rows:4,className:"w-full px-3 py-2.5 rounded-lg border border-neutral-200 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 resize-none"})]}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Channels"}),(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,l.jsx)("input",{type:"checkbox",checked:h.includes("In-app"),onChange:()=>j("In-app"),className:"w-4 h-4 rounded border-neutral-300 text-orange-600 focus:ring-orange-500"}),(0,l.jsx)("span",{className:"text-sm text-neutral-700",children:"In-app notification"})]}),(0,l.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,l.jsx)("input",{type:"checkbox",checked:h.includes("Email"),onChange:()=>j("Email"),className:"w-4 h-4 rounded border-neutral-300 text-orange-600 focus:ring-orange-500"}),(0,l.jsx)("span",{className:"text-sm text-neutral-700",children:"Email"})]})]})]}),(0,l.jsx)("button",{onClick:()=>{o&&m&&(g([{id:String(Date.now()),timestamp:new Date,title:o,message:m,audience:"all"===e?"All users":"".concat(s.length," users"),channel:h,status:"Sent"},...b]),x(""),u(""),N(!0),setTimeout(()=>N(!1),3e3))},disabled:!o||!m||0===h.length,className:"w-full px-4 py-2.5 rounded-lg bg-gradient-to-r from-orange-500 to-blue-600 text-white font-medium text-sm hover:shadow-lg transition disabled:opacity-50 disabled:cursor-not-allowed",children:"Send Notification"}),f&&(0,l.jsxs)(i.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-4 p-3 rounded-lg bg-green-50 border border-green-200 flex items-center gap-2 text-sm text-green-700",children:[(0,l.jsx)(r.In,{icon:"mdi:check-circle",width:18}),(0,l.jsx)("span",{children:"Notification sent successfully!"})]})]}),(0,l.jsxs)("div",{className:"bg-white rounded-xl border border-neutral-200/70 overflow-hidden",children:[(0,l.jsx)("div",{className:"px-6 py-4 border-b border-neutral-200",children:(0,l.jsx)("h2",{className:"text-lg font-semibold text-neutral-900",style:{fontFamily:"var(--font-geist)"},children:"Notification History"})}),(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"w-full",children:[(0,l.jsx)("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"text-left px-4 py-3 text-xs font-semibold text-neutral-600 uppercase tracking-wider",children:"Time"}),(0,l.jsx)("th",{className:"text-left px-4 py-3 text-xs font-semibold text-neutral-600 uppercase tracking-wider",children:"Title"}),(0,l.jsx)("th",{className:"text-left px-4 py-3 text-xs font-semibold text-neutral-600 uppercase tracking-wider hidden md:table-cell",children:"Audience"}),(0,l.jsx)("th",{className:"text-left px-4 py-3 text-xs font-semibold text-neutral-600 uppercase tracking-wider",children:"Channel"}),(0,l.jsx)("th",{className:"text-left px-4 py-3 text-xs font-semibold text-neutral-600 uppercase tracking-wider",children:"Status"})]})}),(0,l.jsx)("tbody",{className:"divide-y divide-neutral-100",children:b.map(e=>(0,l.jsxs)("tr",{className:"hover:bg-neutral-50 transition",children:[(0,l.jsx)("td",{className:"px-4 py-3 text-sm text-neutral-600",children:new Date(e.timestamp).toLocaleString("en-IN",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),(0,l.jsx)("td",{className:"px-4 py-3 text-sm font-medium text-neutral-900",children:e.title}),(0,l.jsx)("td",{className:"px-4 py-3 text-sm text-neutral-600 hidden md:table-cell",children:e.audience}),(0,l.jsx)("td",{className:"px-4 py-3 text-sm text-neutral-600",children:e.channel.join(", ")}),(0,l.jsx)("td",{className:"px-4 py-3",children:(0,l.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700",children:e.status})})]},e.id))})]})})]})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[5206,7347,140,8441,1684,7358],()=>t(6372)),_N_E=e.O()}]);