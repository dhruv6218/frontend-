(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8733],{3910:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var n=s(5155),l=s(2115),r=s(6310),a=s(7347),i=s(9114),o=s(5206),d=s(1223),c=s(6874),u=s.n(c);function x(){let[e,t]=(0,l.useState)(""),[s,c]=(0,l.useState)("All"),[x,m]=(0,l.useState)("All"),[h,p]=(0,l.useState)(null),[f,g]=(0,l.useState)(!1),j=(0,l.useMemo)(()=>d.rB.filter(t=>{let n=t.name.toLowerCase().includes(e.toLowerCase())||t.email.toLowerCase().includes(e.toLowerCase()),l="All"===s||t.plan===s,r="All"===x||t.status===x;return n&&l&&r}),[e,s,x]),b=e=>{p(e),g(!0)};return(0,n.jsxs)(r.A,{allowedRoles:["admin"],children:[(0,n.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsx)("h1",{className:"text-2xl font-semibold text-neutral-900",style:{fontFamily:"var(--font-geist)"},children:"Users"}),(0,n.jsx)("p",{className:"text-sm text-neutral-500 mt-1",children:"Manage user accounts and plans"})]}),(0,n.jsx)("div",{className:"bg-white rounded-xl border border-neutral-200/70 p-4 mb-4",children:(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(a.In,{icon:"mdi:magnify",width:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-neutral-400"}),(0,n.jsx)("input",{type:"text",placeholder:"Search by name or email...",value:e,onChange:e=>t(e.target.value),className:"w-full pl-10 pr-3 py-2 rounded-lg border border-neutral-200 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500"})]}),(0,n.jsxs)("select",{value:s,onChange:e=>c(e.target.value),className:"px-3 py-2 rounded-lg border border-neutral-200 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500",children:[(0,n.jsx)("option",{value:"All",children:"All Plans"}),(0,n.jsx)("option",{value:"Free",children:"Free"}),(0,n.jsx)("option",{value:"Starter",children:"Starter"}),(0,n.jsx)("option",{value:"Professional",children:"Professional"}),(0,n.jsx)("option",{value:"Business",children:"Business"})]}),(0,n.jsxs)("select",{value:x,onChange:e=>m(e.target.value),className:"px-3 py-2 rounded-lg border border-neutral-200 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500",children:[(0,n.jsx)("option",{value:"All",children:"All Status"}),(0,n.jsx)("option",{value:"Active",children:"Active"}),(0,n.jsx)("option",{value:"Suspended",children:"Suspended"})]})]})}),(0,n.jsxs)("div",{className:"bg-white rounded-xl border border-neutral-200/70 overflow-hidden",children:[(0,n.jsx)("div",{className:"overflow-x-auto",children:(0,n.jsxs)("table",{className:"w-full",children:[(0,n.jsx)("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{className:"text-left px-4 py-3 text-xs font-semibold text-neutral-600 uppercase tracking-wider",children:"Name"}),(0,n.jsx)("th",{className:"text-left px-4 py-3 text-xs font-semibold text-neutral-600 uppercase tracking-wider",children:"Email"}),(0,n.jsx)("th",{className:"text-left px-4 py-3 text-xs font-semibold text-neutral-600 uppercase tracking-wider hidden md:table-cell",children:"Organization"}),(0,n.jsx)("th",{className:"text-left px-4 py-3 text-xs font-semibold text-neutral-600 uppercase tracking-wider",children:"Plan"}),(0,n.jsx)("th",{className:"text-left px-4 py-3 text-xs font-semibold text-neutral-600 uppercase tracking-wider hidden lg:table-cell",children:"Credits"}),(0,n.jsx)("th",{className:"text-left px-4 py-3 text-xs font-semibold text-neutral-600 uppercase tracking-wider",children:"Status"}),(0,n.jsx)("th",{className:"text-left px-4 py-3 text-xs font-semibold text-neutral-600 uppercase tracking-wider",children:"Actions"})]})}),(0,n.jsx)("tbody",{className:"divide-y divide-neutral-100",children:j.map(e=>(0,n.jsxs)("tr",{className:"hover:bg-neutral-50 transition",children:[(0,n.jsx)("td",{className:"px-4 py-3 text-sm font-medium text-neutral-900",children:e.name}),(0,n.jsx)("td",{className:"px-4 py-3 text-sm text-neutral-600",children:e.email}),(0,n.jsx)("td",{className:"px-4 py-3 text-sm text-neutral-600 hidden md:table-cell",children:e.organization}),(0,n.jsx)("td",{className:"px-4 py-3",children:(0,n.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("Business"===e.plan?"bg-purple-100 text-purple-700":"Professional"===e.plan?"bg-blue-100 text-blue-700":"Starter"===e.plan?"bg-green-100 text-green-700":"bg-neutral-100 text-neutral-700"),children:e.plan})}),(0,n.jsxs)("td",{className:"px-4 py-3 text-sm text-neutral-600 hidden lg:table-cell",children:[e.credits,"/",e.monthlyLimit]}),(0,n.jsx)("td",{className:"px-4 py-3",children:(0,n.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("Active"===e.status?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:e.status})}),(0,n.jsx)("td",{className:"px-4 py-3",children:(0,n.jsx)("button",{onClick:()=>b(e),className:"text-sm font-medium text-orange-600 hover:text-orange-700 transition",children:"Manage"})})]},e.id))})]})}),0===j.length&&(0,n.jsxs)("div",{className:"text-center py-12",children:[(0,n.jsx)(a.In,{icon:"mdi:account-search",width:48,className:"mx-auto text-neutral-300 mb-3"}),(0,n.jsx)("p",{className:"text-sm text-neutral-500",children:"No users found"})]})]})]}),(0,n.jsx)(i.N,{children:f&&h&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>g(!1),className:"fixed inset-0 bg-black/30 z-50"}),(0,n.jsxs)(o.P.div,{initial:{x:400},animate:{x:0},exit:{x:400},transition:{type:"spring",damping:25,stiffness:200},className:"fixed right-0 top-0 bottom-0 w-full max-w-md bg-white shadow-2xl z-50 overflow-y-auto",children:[(0,n.jsxs)("div",{className:"sticky top-0 bg-white border-b border-neutral-200 px-6 py-4 flex items-center justify-between",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold text-neutral-900",style:{fontFamily:"var(--font-geist)"},children:"Manage User"}),(0,n.jsx)("button",{onClick:()=>g(!1),className:"p-2 hover:bg-neutral-100 rounded-lg transition",children:(0,n.jsx)(a.In,{icon:"mdi:close",width:20})})]}),(0,n.jsxs)("div",{className:"p-6 space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-sm font-semibold text-neutral-900 mb-3",children:"User Details"}),(0,n.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-neutral-500",children:"Name:"}),(0,n.jsx)("span",{className:"font-medium text-neutral-900",children:h.name})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-neutral-500",children:"Email:"}),(0,n.jsx)("span",{className:"font-medium text-neutral-900",children:h.email})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-neutral-500",children:"Organization:"}),(0,n.jsx)("span",{className:"font-medium text-neutral-900",children:h.organization})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-neutral-500",children:"Created:"}),(0,n.jsx)("span",{className:"font-medium text-neutral-900",children:new Date(h.createdAt).toLocaleDateString("en-IN")})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-neutral-500",children:"Credits:"}),(0,n.jsxs)("span",{className:"font-medium text-neutral-900",children:[h.credits,"/",h.monthlyLimit]})]})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-semibold text-neutral-900 mb-2",children:"Plan"}),(0,n.jsxs)("select",{defaultValue:h.plan,className:"w-full px-3 py-2 rounded-lg border border-neutral-200 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500",children:[(0,n.jsx)("option",{value:"Free",children:"Free"}),(0,n.jsx)("option",{value:"Starter",children:"Starter"}),(0,n.jsx)("option",{value:"Professional",children:"Professional"}),(0,n.jsx)("option",{value:"Business",children:"Business"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-semibold text-neutral-900 mb-2",children:"Status"}),(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("button",{className:"flex-1 px-4 py-2 rounded-lg text-sm font-medium transition ".concat("Active"===h.status?"bg-green-100 text-green-700 border-2 border-green-300":"bg-neutral-100 text-neutral-600 border-2 border-transparent"),children:"Active"}),(0,n.jsx)("button",{className:"flex-1 px-4 py-2 rounded-lg text-sm font-medium transition ".concat("Suspended"===h.status?"bg-red-100 text-red-700 border-2 border-red-300":"bg-neutral-100 text-neutral-600 border-2 border-transparent"),children:"Suspended"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-sm font-semibold text-neutral-900 mb-3",children:"Quick Actions"}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)(u(),{href:"/admin/credits?user=".concat(h.email),className:"flex items-center gap-2 px-4 py-2.5 rounded-lg border border-neutral-200 hover:bg-neutral-50 transition text-sm font-medium text-neutral-700",children:[(0,n.jsx)(a.In,{icon:"mdi:coin-outline",width:18}),(0,n.jsx)("span",{children:"Adjust Credits"})]}),(0,n.jsxs)(u(),{href:"/admin/reports?user=".concat(h.email),className:"flex items-center gap-2 px-4 py-2.5 rounded-lg border border-neutral-200 hover:bg-neutral-50 transition text-sm font-medium text-neutral-700",children:[(0,n.jsx)(a.In,{icon:"mdi:file-chart-outline",width:18}),(0,n.jsx)("span",{children:"View Reports"})]})]})]}),(0,n.jsx)("button",{className:"w-full px-4 py-2.5 rounded-lg bg-gradient-to-r from-orange-500 to-blue-600 text-white font-medium text-sm hover:shadow-lg transition",children:"Save Changes"})]})]})]})})]})}},5584:(e,t,s)=>{Promise.resolve().then(s.bind(s,3910))},9114:(e,t,s)=>{"use strict";s.d(t,{N:()=>b});var n=s(5155),l=s(2115),r=s(869),a=s(2885),i=s(7494),o=s(845),d=s(7351),c=s(1508);function u(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class x extends l.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,s=(0,d.s)(e)&&e.offsetWidth||0,n=this.props.sizeRef.current;n.height=t.offsetHeight||0,n.width=t.offsetWidth||0,n.top=t.offsetTop,n.left=t.offsetLeft,n.right=s-n.width-n.left}return null}componentDidUpdate(){}render(){return this.props.children}}function m(e){let{children:t,isPresent:s,anchorX:r,root:a}=e,i=(0,l.useId)(),o=(0,l.useRef)(null),d=(0,l.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:m}=(0,l.useContext)(c.Q),h=function(...e){return l.useCallback(function(...e){return t=>{let s=!1,n=e.map(e=>{let n=u(e,t);return s||"function"!=typeof n||(s=!0),n});if(s)return()=>{for(let t=0;t<n.length;t++){let s=n[t];"function"==typeof s?s():u(e[t],null)}}}}(...e),e)}(o,null==t?void 0:t.ref);return(0,l.useInsertionEffect)(()=>{let{width:e,height:t,top:n,left:l,right:c}=d.current;if(s||!o.current||!e||!t)return;o.current.dataset.motionPopId=i;let u=document.createElement("style");m&&(u.nonce=m);let x=null!=a?a:document.head;return x.appendChild(u),u.sheet&&u.sheet.insertRule('\n          [data-motion-pop-id="'.concat(i,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat("left"===r?"left: ".concat(l):"right: ".concat(c),"px !important;\n            top: ").concat(n,"px !important;\n          }\n        ")),()=>{x.contains(u)&&x.removeChild(u)}},[s]),(0,n.jsx)(x,{isPresent:s,childRef:o,sizeRef:d,children:l.cloneElement(t,{ref:h})})}let h=e=>{let{children:t,initial:s,isPresent:r,onExitComplete:i,custom:d,presenceAffectsLayout:c,mode:u,anchorX:x,root:h}=e,f=(0,a.M)(p),g=(0,l.useId)(),j=!0,b=(0,l.useMemo)(()=>(j=!1,{id:g,initial:s,isPresent:r,custom:d,onExitComplete:e=>{for(let t of(f.set(e,!0),f.values()))if(!t)return;i&&i()},register:e=>(f.set(e,!1),()=>f.delete(e))}),[r,f,i]);return c&&j&&(b={...b}),(0,l.useMemo)(()=>{f.forEach((e,t)=>f.set(t,!1))},[r]),l.useEffect(()=>{r||f.size||!i||i()},[r]),"popLayout"===u&&(t=(0,n.jsx)(m,{isPresent:r,anchorX:x,root:h,children:t})),(0,n.jsx)(o.t.Provider,{value:b,children:t})};function p(){return new Map}var f=s(2082);let g=e=>e.key||"";function j(e){let t=[];return l.Children.forEach(e,e=>{(0,l.isValidElement)(e)&&t.push(e)}),t}let b=e=>{let{children:t,custom:s,initial:o=!0,onExitComplete:d,presenceAffectsLayout:c=!0,mode:u="sync",propagate:x=!1,anchorX:m="left",root:p}=e,[b,N]=(0,f.xQ)(x),v=(0,l.useMemo)(()=>j(t),[t]),y=x&&!b?[]:v.map(g),w=(0,l.useRef)(!0),C=(0,l.useRef)(v),S=(0,a.M)(()=>new Map),[k,A]=(0,l.useState)(v),[P,E]=(0,l.useState)(v);(0,i.E)(()=>{w.current=!1,C.current=v;for(let e=0;e<P.length;e++){let t=g(P[e]);y.includes(t)?S.delete(t):!0!==S.get(t)&&S.set(t,!1)}},[P,y.length,y.join("-")]);let L=[];if(v!==k){let e=[...v];for(let t=0;t<P.length;t++){let s=P[t],n=g(s);y.includes(n)||(e.splice(t,0,s),L.push(s))}return"wait"===u&&L.length&&(e=L),E(j(e)),A(v),null}let{forceRender:M}=(0,l.useContext)(r.L);return(0,n.jsx)(n.Fragment,{children:P.map(e=>{let t=g(e),l=(!x||!!b)&&(v===P||y.includes(t));return(0,n.jsx)(h,{isPresent:l,initial:(!w.current||!!o)&&void 0,custom:s,presenceAffectsLayout:c,mode:u,root:p,onExitComplete:l?void 0:()=>{if(!S.has(t))return;S.set(t,!0);let e=!0;S.forEach(t=>{t||(e=!1)}),e&&(null==M||M(),E(C.current),x&&(null==N||N()),d&&d())},anchorX:m,children:e},t)})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[5206,7347,6874,140,8441,1684,7358],()=>t(5584)),_N_E=e.O()}]);