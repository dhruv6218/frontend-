(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7618],{7345:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var l=s(5155),a=s(2115),n=s(6310),r=s(7347),i=s(5206),d=s(1223);function c(){let[e,t]=(0,a.useState)("All"),[s,c]=(0,a.useState)("All"),[o,x]=(0,a.useState)("30"),u=(0,a.useMemo)(()=>{let t=parseInt(o),l=new Date;return l.setDate(l.getDate()-t),d.gn.filter(t=>{let a="All"===e||t.plan===e,n="All"===s||t.verificationType===s,r=new Date(t.lastReportDate)>=l;return a&&n&&r})},[e,s,o]),m=u.reduce((e,t)=>e+t.totalReports,0),h=u.filter(e=>e.driveReports>0).length,p=u.length-h,b=(0,a.useMemo)(()=>{let e={};return u.forEach(t=>{let s=t.verificationType||"Other";e[s]=(e[s]||0)+t.totalReports}),Object.entries(e).map(e=>{let[t,s]=e;return{type:t,count:s}})},[u]),j=(0,a.useMemo)(()=>{let e={};return u.forEach(t=>{let s=t.plan||"Unknown";e[s]=(e[s]||0)+t.totalReports}),Object.entries(e).map(e=>{let[t,s]=e;return{plan:t,count:s}})},[u]);return(0,l.jsx)(n.A,{allowedRoles:["admin"],children:(0,l.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("h1",{className:"text-2xl font-semibold text-neutral-900",style:{fontFamily:"var(--font-geist)"},children:"Reports & Storage"}),(0,l.jsx)("p",{className:"text-sm text-neutral-500 mt-1",children:"View report statistics and Google Drive connections"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[(0,l.jsxs)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl border border-neutral-200/70 p-5",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,l.jsx)("div",{className:"h-10 w-10 rounded-lg bg-blue-50 flex items-center justify-center",children:(0,l.jsx)(r.In,{icon:"mdi:file-chart",width:22,className:"text-blue-600"})}),(0,l.jsx)("span",{className:"text-2xl font-bold text-neutral-900",children:m})]}),(0,l.jsx)("p",{className:"text-sm font-medium text-neutral-600",children:"Total Reports"}),(0,l.jsx)("p",{className:"text-xs text-neutral-400 mt-1",children:"All time"})]}),(0,l.jsxs)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl border border-neutral-200/70 p-5",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,l.jsx)("div",{className:"h-10 w-10 rounded-lg bg-orange-50 flex items-center justify-center",children:(0,l.jsx)(r.In,{icon:"mdi:calendar-month",width:22,className:"text-orange-600"})}),(0,l.jsx)("span",{className:"text-2xl font-bold text-neutral-900",children:m})]}),(0,l.jsx)("p",{className:"text-sm font-medium text-neutral-600",children:"This Month"})]}),(0,l.jsxs)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl border border-neutral-200/70 p-5",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,l.jsx)("div",{className:"h-10 w-10 rounded-lg bg-green-50 flex items-center justify-center",children:(0,l.jsx)(r.In,{icon:"mdi:google-drive",width:22,className:"text-green-600"})}),(0,l.jsx)("span",{className:"text-2xl font-bold text-neutral-900",children:h})]}),(0,l.jsx)("p",{className:"text-sm font-medium text-neutral-600",children:"Drive Connected"})]}),(0,l.jsxs)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl border border-neutral-200/70 p-5",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,l.jsx)("div",{className:"h-10 w-10 rounded-lg bg-red-50 flex items-center justify-center",children:(0,l.jsx)(r.In,{icon:"mdi:cloud-off-outline",width:22,className:"text-red-600"})}),(0,l.jsx)("span",{className:"text-2xl font-bold text-neutral-900",children:p})]}),(0,l.jsx)("p",{className:"text-sm font-medium text-neutral-600",children:"Not Connected"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mb-6",children:[(0,l.jsxs)("div",{className:"bg-white rounded-xl border border-neutral-200/70 p-5",children:[(0,l.jsx)("h3",{className:"text-sm font-semibold text-neutral-900 mb-4",style:{fontFamily:"var(--font-geist)"},children:"Reports by Type"}),(0,l.jsx)("div",{className:"space-y-3",children:b.length>0?b.map((e,t)=>{let s=Math.max(...b.map(e=>e.count)),a=e.count/s*100;return(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,l.jsx)("span",{className:"font-medium text-neutral-700",children:e.type}),(0,l.jsxs)("span",{className:"text-neutral-600",children:[e.count," reports"]})]}),(0,l.jsx)("div",{className:"w-full h-2 rounded-full bg-neutral-100 overflow-hidden",children:(0,l.jsx)(i.P.div,{initial:{width:0},animate:{width:"".concat(a,"%")},transition:{duration:.5,delay:.1*t},className:"h-full rounded-full bg-gradient-to-r from-orange-500 to-blue-600"})})]},t)}):(0,l.jsx)("p",{className:"text-sm text-neutral-500 text-center py-4",children:"No data available"})})]}),(0,l.jsxs)("div",{className:"bg-white rounded-xl border border-neutral-200/70 p-5",children:[(0,l.jsx)("h3",{className:"text-sm font-semibold text-neutral-900 mb-4",style:{fontFamily:"var(--font-geist)"},children:"Reports by Plan"}),(0,l.jsx)("div",{className:"space-y-3",children:j.length>0?j.map((e,t)=>{let s=j.reduce((e,t)=>e+t.count,0),a=s>0?e.count/s*100:0;return(0,l.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border border-neutral-100 bg-neutral-50",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"w-3 h-3 rounded-full ".concat("Business"===e.plan?"bg-purple-500":"Professional"===e.plan?"bg-blue-500":"Starter"===e.plan?"bg-green-500":"bg-neutral-500")}),(0,l.jsx)("span",{className:"text-sm font-medium text-neutral-900",children:e.plan})]}),(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("span",{className:"text-sm text-neutral-600",children:e.count}),(0,l.jsxs)("span",{className:"text-xs text-neutral-500 w-12 text-right",children:[a.toFixed(1),"%"]})]})]},t)}):(0,l.jsx)("p",{className:"text-sm text-neutral-500 text-center py-4",children:"No data available"})})]})]}),(0,l.jsx)("div",{className:"bg-white rounded-xl border border-neutral-200/70 p-4 mb-4",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-xs font-medium text-neutral-700 mb-1.5",children:"Date Range"}),(0,l.jsxs)("select",{value:o,onChange:e=>x(e.target.value),className:"w-full px-3 py-2 rounded-lg border border-neutral-200 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500",children:[(0,l.jsx)("option",{value:"7",children:"Last 7 Days"}),(0,l.jsx)("option",{value:"30",children:"Last 30 Days"}),(0,l.jsx)("option",{value:"90",children:"Last 90 Days"}),(0,l.jsx)("option",{value:"365",children:"Last Year"}),(0,l.jsx)("option",{value:"all",children:"All Time"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-xs font-medium text-neutral-700 mb-1.5",children:"Plan"}),(0,l.jsxs)("select",{value:e,onChange:e=>t(e.target.value),className:"w-full px-3 py-2 rounded-lg border border-neutral-200 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500",children:[(0,l.jsx)("option",{value:"All",children:"All Plans"}),(0,l.jsx)("option",{value:"Free",children:"Free"}),(0,l.jsx)("option",{value:"Starter",children:"Starter"}),(0,l.jsx)("option",{value:"Professional",children:"Professional"}),(0,l.jsx)("option",{value:"Business",children:"Business"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-xs font-medium text-neutral-700 mb-1.5",children:"Verification Type"}),(0,l.jsxs)("select",{value:s,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 rounded-lg border border-neutral-200 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500",children:[(0,l.jsx)("option",{value:"All",children:"All Types"}),(0,l.jsx)("option",{value:"GST",children:"GST"}),(0,l.jsx)("option",{value:"PAN",children:"PAN"}),(0,l.jsx)("option",{value:"Aadhaar",children:"Aadhaar"}),(0,l.jsx)("option",{value:"Bank",children:"Bank"})]})]})]})}),(0,l.jsx)("div",{className:"bg-white rounded-xl border border-neutral-200/70 overflow-hidden",children:(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"w-full",children:[(0,l.jsx)("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"text-left px-4 py-3 text-xs font-semibold text-neutral-600 uppercase tracking-wider",children:"User Email"}),(0,l.jsx)("th",{className:"text-left px-4 py-3 text-xs font-semibold text-neutral-600 uppercase tracking-wider hidden md:table-cell",children:"Organization"}),(0,l.jsx)("th",{className:"text-left px-4 py-3 text-xs font-semibold text-neutral-600 uppercase tracking-wider",children:"Plan"}),(0,l.jsx)("th",{className:"text-left px-4 py-3 text-xs font-semibold text-neutral-600 uppercase tracking-wider",children:"Total Reports"}),(0,l.jsx)("th",{className:"text-left px-4 py-3 text-xs font-semibold text-neutral-600 uppercase tracking-wider hidden lg:table-cell",children:"Drive Reports"}),(0,l.jsx)("th",{className:"text-left px-4 py-3 text-xs font-semibold text-neutral-600 uppercase tracking-wider",children:"Last Report"})]})}),(0,l.jsx)("tbody",{className:"divide-y divide-neutral-100",children:u.map(e=>(0,l.jsxs)("tr",{className:"hover:bg-neutral-50 transition",children:[(0,l.jsx)("td",{className:"px-4 py-3 text-sm text-neutral-900",children:e.userEmail}),(0,l.jsx)("td",{className:"px-4 py-3 text-sm text-neutral-600 hidden md:table-cell",children:e.organization}),(0,l.jsx)("td",{className:"px-4 py-3",children:(0,l.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("Business"===e.plan?"bg-purple-100 text-purple-700":"Professional"===e.plan?"bg-blue-100 text-blue-700":"Starter"===e.plan?"bg-green-100 text-green-700":"bg-neutral-100 text-neutral-700"),children:e.plan})}),(0,l.jsx)("td",{className:"px-4 py-3 text-sm font-medium text-neutral-900",children:e.totalReports}),(0,l.jsx)("td",{className:"px-4 py-3 text-sm text-neutral-600 hidden lg:table-cell",children:e.driveReports}),(0,l.jsx)("td",{className:"px-4 py-3 text-sm text-neutral-600",children:new Date(e.lastReportDate).toLocaleDateString("en-IN")})]},e.id))})]})})})]})})}},9431:(e,t,s)=>{Promise.resolve().then(s.bind(s,7345))}},e=>{var t=t=>e(e.s=t);e.O(0,[5206,7347,140,8441,1684,7358],()=>t(9431)),_N_E=e.O()}]);