(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3698],{3563:(e,t,a)=>{"use strict";a.d(t,{G:()=>r});let s=[{id:"user_1",email:"admin@example.com",name:"Admin User",role:"admin",credits:100,plan_id:"plan_pro",avatar_url:"https://api.dicebear.com/7.x/avataaars/svg?seed=admin"},{id:"user_2",email:"user@example.com",name:"Regular User",role:"user",credits:5,plan_id:"plan_basic",avatar_url:"https://api.dicebear.com/7.x/avataaars/svg?seed=user"}],i=[{id:"verif_1",type:"gst",status:"completed",payload:{gstin:"27AABCU9603R1ZX"},result:{status:"success",details:{legal_name:"ACME Corp",status:"Active"}},created_at:new Date(Date.now()-864e5).toISOString()},{id:"verif_2",type:"pan",status:"processing",payload:{pan:"ABCDE1234F"},created_at:new Date().toISOString()}];new Date(Date.now()-1728e5).toISOString(),new Date(Date.now()-864e5).toISOString(),new Date().toISOString(),new Date().toISOString();let n=e=>new Promise(t=>setTimeout(t,e)),r={auth:{login:async e=>{await n(100);let t=s.find(t=>t.email===e);if(t)return localStorage.setItem("mock_session",JSON.stringify(t)),t;throw Error("Invalid credentials")},logout:async()=>{await n(100),localStorage.removeItem("mock_session")},getSession:async()=>{await n(100);let e=localStorage.getItem("mock_session");return e?JSON.parse(e):null}},verifications:{list:async()=>(await n(100),i),create:async(e,t)=>(await n(100),{id:"verif_".concat(Date.now()),type:e,status:"processing",created_at:new Date().toISOString(),payload:t,result:"aadhaar_send_otp"===e?{reqId:"mock_req_id_123"}:{}})},files:{upload:async e=>(await n(100),{success:!0,url:URL.createObjectURL(e),name:e.name})},settings:{update2FA:async e=>(await n(100),{two_factor_enabled:e}),updateBranding:async e=>(await n(100),{success:!0}),logoutAll:async()=>(await n(100),{success:!0})},notifications:{list:async()=>(await n(100),[{id:"1",message:"Welcome to Ravono",read:!1}]),markAllRead:async()=>(await n(100),{success:!0}),updatePrefs:async e=>(await n(100),{success:!0})},bulkJobs:{list:async()=>(await n(100),[]),create:async e=>(await n(100),{id:"job_".concat(Date.now()),status:"processing"})},integrations:{createKey:async e=>(await n(100),{id:"key_".concat(Date.now()),last4:"1234",createdAt:new Date().toISOString(),scope:e}),revokeKey:async e=>(await n(100),{success:!0}),createWebhook:async(e,t)=>(await n(100),{id:"wh_".concat(Date.now()),url:e,events:t}),testWebhook:async e=>(await n(100),{success:!0})},testimonials:{submit:async e=>(await n(100),{success:!0})},contact:{submit:async e=>(await n(100),{success:!0})},serviceOrders:{list:async()=>(await n(100),[{id:"order_1",client:"Acme Corp",items:5,status:"pending"},{id:"order_2",client:"Tech Solutions",items:3,status:"completed"}]),complete:async e=>(await n(100),{success:!0})}}},5806:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var s=a(8097),i=a(2085),n=a(6617),r=a(5817),l=a(9765);function o(e){let t=((null==e?void 0:e.role)||"user").toLowerCase();return"manager"===t||"admin"===t||"service"===t?t:"user"}function c(e){let{children:t,allowedRoles:a}=e,{isAuthenticated:c,user:d,loading:m}=(0,n.A)(),u=(0,r.useRouter)(),p=(0,r.usePathname)();if((0,i.useEffect)(()=>{if(!m){if(!c)return void u.replace("/auth/sign-in?from=".concat(encodeURIComponent(p)));let e=o(d);a.includes(e)||u.replace("/auth/sign-in?from=".concat(encodeURIComponent(p)))}},[m,c,d,a,u,p]),m)return(0,s.jsx)("div",{className:"min-h-[60vh] flex items-center justify-center",children:(0,s.jsx)(l.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{repeat:1/0,duration:1.2,repeatType:"reverse"},className:"h-8 w-8 rounded-full border-2 border-orange-400 border-t-transparent",style:{animation:"spin 1s linear infinite"},"aria-label":"Loading"})});if(!c)return(0,s.jsx)("div",{className:"min-h-[60vh] flex items-center justify-center",children:(0,s.jsx)("p",{className:"text-sm",children:"Redirecting to sign in…"})});let h=o(d);return a.includes(h)?(0,s.jsx)(s.Fragment,{children:t}):null}},5817:(e,t,a)=>{"use strict";var s=a(5701);a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}})},6617:(e,t,a)=>{"use strict";a.d(t,{A:()=>o,O:()=>l});var s=a(8097),i=a(2085),n=a(3563);let r=(0,i.createContext)({user:null,loading:!0,isAuthenticated:!1,login:async()=>{},logout:async()=>{}});function l(e){let{children:t}=e,[a,l]=(0,i.useState)(null),[o,c]=(0,i.useState)(!0);(0,i.useEffect)(()=>{(async()=>{try{let e=await n.G.auth.getSession();l(e)}catch(e){console.error("Auth init failed",e)}finally{c(!1)}})()},[]);let d=async e=>{c(!0);try{let t=await n.G.auth.login(e);l(t)}finally{c(!1)}},m=async()=>{c(!0);try{await n.G.auth.logout(),l(null)}finally{c(!1)}};return(0,s.jsx)(r.Provider,{value:{user:a,loading:o,isAuthenticated:!!a,login:d,logout:m},children:t})}let o=()=>(0,i.useContext)(r)},7875:(e,t,a)=>{Promise.resolve().then(a.bind(a,9585))},8431:(e,t,a)=>{"use strict";a.d(t,{OK:()=>o,T5:()=>r,fi:()=>c,gn:()=>n,hH:()=>i,pG:()=>l,rB:()=>s});let s=[{id:"1",name:"Rajesh Kumar",email:"rajesh@techcorp.com",organization:"TechCorp India",plan:"Professional",credits:245,monthlyLimit:300,status:"Active",createdAt:new Date("2024-01-15"),driveConnected:!0},{id:"2",name:"Priya Sharma",email:"priya@startupxyz.in",organization:"StartupXYZ",plan:"Starter",credits:15,monthlyLimit:20,status:"Active",createdAt:new Date("2024-02-20"),driveConnected:!1},{id:"3",name:"Amit Patel",email:"amit@enterprises.com",organization:"Patel Enterprises",plan:"Business",credits:850,monthlyLimit:1e3,status:"Active",createdAt:new Date("2023-11-10"),driveConnected:!0},{id:"4",name:"Sneha Reddy",email:"sneha@freelance.com",organization:"Freelance",plan:"Free",credits:2,monthlyLimit:3,status:"Active",createdAt:new Date("2024-03-05"),driveConnected:!1},{id:"5",name:"Vikram Singh",email:"vikram@suspended.com",organization:"Suspended Corp",plan:"Starter",credits:0,monthlyLimit:20,status:"Suspended",createdAt:new Date("2024-01-20"),driveConnected:!1}],i=[{id:"1",timestamp:new Date("2024-03-20T10:30:00"),adminName:"Admin User",userEmail:"rajesh@techcorp.com",change:50,reason:"Bonus credits for annual subscription"},{id:"2",timestamp:new Date("2024-03-19T14:15:00"),adminName:"Admin User",userEmail:"amit@enterprises.com",change:-100,reason:"Refund adjustment"},{id:"3",timestamp:new Date("2024-03-18T09:00:00"),adminName:"Admin User",userEmail:"priya@startupxyz.in",change:10,reason:"Compensation for service downtime"}],n=[{id:"1",userEmail:"rajesh@techcorp.com",organization:"TechCorp India",plan:"Professional",totalReports:156,driveReports:120,lastReportDate:new Date("2024-03-20"),verificationType:"GST"},{id:"2",userEmail:"amit@enterprises.com",organization:"Patel Enterprises",plan:"Business",totalReports:342,driveReports:342,lastReportDate:new Date("2024-03-21"),verificationType:"PAN"},{id:"3",userEmail:"priya@startupxyz.in",organization:"StartupXYZ",plan:"Starter",totalReports:8,driveReports:0,lastReportDate:new Date("2024-03-15"),verificationType:"Aadhaar"}],r=[{id:"1",timestamp:new Date("2024-03-21T15:30:00"),actor:"admin@ravono.com",actionType:"Credits changed",target:"rajesh@techcorp.com",details:"Added 50 credits",ipAddress:"192.168.1.100"},{id:"2",timestamp:new Date("2024-03-21T14:20:00"),actor:"rajesh@techcorp.com",actionType:"Report generated",target:"GST-2024-001",details:"Generated GST verification report",ipAddress:"103.45.67.89"},{id:"3",timestamp:new Date("2024-03-21T13:15:00"),actor:"admin@ravono.com",actionType:"User suspended",target:"vikram@suspended.com",details:"Suspended due to payment failure",ipAddress:"192.168.1.100"},{id:"4",timestamp:new Date("2024-03-21T12:00:00"),actor:"amit@enterprises.com",actionType:"Login",target:"Dashboard",details:"Successful login",ipAddress:"103.45.67.90"},{id:"5",timestamp:new Date("2024-03-21T11:30:00"),actor:"admin@ravono.com",actionType:"Plan changed",target:"priya@startupxyz.in",details:"Upgraded from Free to Starter",ipAddress:"192.168.1.100"}],l=[{id:"1",timestamp:new Date("2024-03-20T10:00:00"),title:"New Feature: Google Drive Integration",message:"You can now save your reports directly to Google Drive!",audience:"All users",channel:["In-app","Email"],status:"Sent"},{id:"2",timestamp:new Date("2024-03-15T09:00:00"),title:"Scheduled Maintenance",message:"System will be under maintenance on Sunday 2-4 AM IST",audience:"All users",channel:["In-app"],status:"Sent"},{id:"3",timestamp:new Date("2024-03-10T14:30:00"),title:"Premium Plan Discount",message:"Upgrade to Professional plan and get 20% off!",audience:"15 users",channel:["Email"],status:"Sent"}],o=[{id:"1",title:"Dark mode support",description:"Add dark mode theme option for better viewing experience at night",category:"UI/UX",upvotes:67,status:"Planned",createdAt:new Date("2024-02-15"),userEmail:"rajesh@techcorp.com"},{id:"2",title:"Mobile app",description:"Create native mobile apps for iOS and Android",category:"Platform",upvotes:42,status:"Open",createdAt:new Date("2024-03-01"),userEmail:"amit@enterprises.com"},{id:"3",title:"Excel export for reports",description:"Allow downloading reports in Excel format",category:"Feature",upvotes:24,status:"In progress",createdAt:new Date("2024-02-20"),userEmail:"priya@startupxyz.in"},{id:"4",title:"Bulk email notifications",description:"Send email notifications for bulk verification results",category:"Feature",upvotes:18,status:"Done",createdAt:new Date("2024-01-10"),userEmail:"rajesh@techcorp.com"}],c=[{id:"1",name:"Rajesh Kumar",company:"TechCorp India",rating:5,text:"Excellent service! Saved us hours of manual verification work.",createdAt:new Date("2024-03-15"),approved:!0},{id:"2",name:"Priya Sharma",company:"StartupXYZ",rating:4,text:"Great platform, very easy to use. Would love to see more features.",createdAt:new Date("2024-03-10"),approved:!0},{id:"3",name:"Anonymous User",company:"Test Company",rating:2,text:"This is a test testimonial that should not be approved.",createdAt:new Date("2024-03-20"),approved:!1},{id:"4",name:"Amit Patel",company:"Patel Enterprises",rating:5,text:"Outstanding support team and reliable service. Highly recommended!",createdAt:new Date("2024-03-18"),approved:!0}]},9585:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var s=a(8097);a(2085);var i=a(5806),n=a(5366),r=a(9765),l=a(8431);function o(){let e=l.rB.length,t=l.rB.filter(e=>"Active"===e.status).length,a={Free:l.rB.filter(e=>"Free"===e.plan).length,Starter:l.rB.filter(e=>"Starter"===e.plan).length,Professional:l.rB.filter(e=>"Professional"===e.plan).length,Business:l.rB.filter(e=>"Business"===e.plan).length},o=l.gn.reduce((e,t)=>e+t.totalReports,0),c=l.gn.reduce((e,t)=>(e[t.verificationType]=(e[t.verificationType]||0)+t.totalReports,e),{}),d=Math.max(...Object.values(c)),m=l.T5.slice(0,5);return(0,s.jsx)(i.A,{allowedRoles:["admin"],children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold text-neutral-900",style:{fontFamily:"var(--font-geist)"},children:"Admin Overview"}),(0,s.jsx)("p",{className:"text-sm text-neutral-500 mt-1",children:"Dashboard and key metrics"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[(0,s.jsxs)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl border border-neutral-200/70 p-5",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("div",{className:"h-10 w-10 rounded-lg bg-blue-50 flex items-center justify-center",children:(0,s.jsx)(n.In,{icon:"mdi:account-group",width:22,className:"text-blue-600"})}),(0,s.jsx)("span",{className:"text-2xl font-bold text-neutral-900",children:e})]}),(0,s.jsx)("p",{className:"text-sm font-medium text-neutral-600",children:"Total Users"})]}),(0,s.jsxs)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl border border-neutral-200/70 p-5",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("div",{className:"h-10 w-10 rounded-lg bg-green-50 flex items-center justify-center",children:(0,s.jsx)(n.In,{icon:"mdi:account-check",width:22,className:"text-green-600"})}),(0,s.jsx)("span",{className:"text-2xl font-bold text-neutral-900",children:t})]}),(0,s.jsx)("p",{className:"text-sm font-medium text-neutral-600",children:"Active Users"})]}),(0,s.jsxs)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl border border-neutral-200/70 p-5",children:[(0,s.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,s.jsx)("div",{className:"h-10 w-10 rounded-lg bg-purple-50 flex items-center justify-center",children:(0,s.jsx)(n.In,{icon:"mdi:chart-pie",width:22,className:"text-purple-600"})})}),(0,s.jsx)("p",{className:"text-sm font-medium text-neutral-600 mb-2",children:"Users by Plan"}),(0,s.jsxs)("div",{className:"space-y-1 text-xs",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"Free:"}),(0,s.jsx)("span",{className:"font-semibold",children:a.Free})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"Starter:"}),(0,s.jsx)("span",{className:"font-semibold",children:a.Starter})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"Pro:"}),(0,s.jsx)("span",{className:"font-semibold",children:a.Professional})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"Business:"}),(0,s.jsx)("span",{className:"font-semibold",children:a.Business})]})]})]}),(0,s.jsxs)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-xl border border-neutral-200/70 p-5",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("div",{className:"h-10 w-10 rounded-lg bg-orange-50 flex items-center justify-center",children:(0,s.jsx)(n.In,{icon:"mdi:file-chart",width:22,className:"text-orange-600"})}),(0,s.jsx)("span",{className:"text-2xl font-bold text-neutral-900",children:o})]}),(0,s.jsx)("p",{className:"text-sm font-medium text-neutral-600",children:"Total Reports"}),(0,s.jsx)("p",{className:"text-xs text-neutral-400 mt-1",children:"This month"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsxs)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-xl border border-neutral-200/70 p-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-neutral-900 mb-4",style:{fontFamily:"var(--font-geist)"},children:"Reports by Type"}),(0,s.jsx)("div",{className:"space-y-3",children:Object.entries(c).map((e,t)=>{let[a,i]=e;return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-neutral-700",children:a}),(0,s.jsx)("span",{className:"text-sm font-semibold text-neutral-900",children:i})]}),(0,s.jsx)("div",{className:"h-2 bg-neutral-100 rounded-full overflow-hidden",children:(0,s.jsx)(r.P.div,{initial:{width:0},animate:{width:"".concat(i/d*100,"%")},transition:{delay:.6+.1*t,duration:.5},className:"h-full rounded-full",style:{background:"linear-gradient(135deg, ".concat("#F97316",", #1E3A8A)")}})})]},a)})})]}),(0,s.jsxs)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-xl border border-neutral-200/70 p-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-neutral-900 mb-4",style:{fontFamily:"var(--font-geist)"},children:"Recent Activity"}),(0,s.jsx)("div",{className:"space-y-3",children:m.map(e=>(0,s.jsxs)("div",{className:"flex items-start gap-3 pb-3 border-b border-neutral-100 last:border-0 last:pb-0",children:[(0,s.jsx)("div",{className:"h-8 w-8 rounded-lg bg-neutral-100 flex items-center justify-center flex-shrink-0",children:(0,s.jsx)(n.In,{icon:"mdi:clock-outline",width:16,className:"text-neutral-600"})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-neutral-900",children:e.actionType}),(0,s.jsxs)("p",{className:"text-xs text-neutral-500 truncate",children:[e.actor," → ",e.target]}),(0,s.jsx)("p",{className:"text-xs text-neutral-400 mt-0.5",children:new Date(e.timestamp).toLocaleString("en-IN",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]},e.id))})]})]})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[9765,5366,7349,1958,7358],()=>t(7875)),_N_E=e.O()}]);