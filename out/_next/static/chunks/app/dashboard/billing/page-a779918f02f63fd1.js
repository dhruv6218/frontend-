(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3613],{610:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var l=s(5155),r=s(6310),a=s(5886),n=s(2115),d=s(7347),i=s(5206),c=s(6874),o=s.n(c),x=s(3697);let m=[{code:"FREE",name:"Free",price:0,credits:3,features:["Basic verifications","Watermarked reports"]},{code:"STARTER",name:"Starter",price:499,credits:20,features:["All verifications","Basic dashboard"],recommended:!1},{code:"PRO",name:"Professional",price:1499,credits:50,features:["Clean reports","AI summaries","Bulk upload","Drive integration"],recommended:!0},{code:"BUSINESS",name:"Business",price:2999,credits:100,features:["White-label","API access","Team access"],recommended:!1}];function u(){var e;let{user:t}=(0,x.A)(),[s,c]=(0,n.useState)("monthly"),[u,p]=(0,n.useState)([]),[h,b]=(0,n.useState)([]),[g,f]=(0,n.useState)(""),[N,j]=(0,n.useState)(248),[y,v]=(0,n.useState)(50),[w,S]=(0,n.useState)([]),P=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",s=Date.now().toString();S(l=>[...l,{id:s,message:e,type:t}])};(0,n.useEffect)(()=>{var e,s;let l=(null==t?void 0:t.plan_id)==="plan_pro"?"PRO":(null==t?void 0:t.plan_id)==="plan_basic"?"STARTER":"FREE";p([{subscription_product_id:(null==(e=m.find(e=>e.code===l))?void 0:e.name)||"Professional",status:"active",plan_code:l}]),b([{timestamp:new Date(Date.now()-2592e6).toISOString(),price:149900,currency:"INR",product_id:"Professional Plan"},{timestamp:new Date(Date.now()-5184e6).toISOString(),price:149900,currency:"INR",product_id:"Professional Plan"}]);let r=new Date;r.setDate(r.getDate()+30),f(r.toLocaleDateString("en-IN",{month:"long",day:"numeric",year:"numeric"})),v((null==(s=m.find(e=>e.code===l))?void 0:s.credits)||50)},[t]);let _=(null==(e=u[0])?void 0:e.plan_code)||"PRO",R=m.find(e=>e.code===_)||m[2],A=N/y*100;return(0,l.jsx)(r.A,{allowedRoles:["user"],children:(0,l.jsxs)(a.A,{title:"Billing",subtitle:"Manage your subscription, invoices, and payment methods",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-6 text-sm",children:[(0,l.jsx)("span",{children:"Billing cycle:"}),(0,l.jsx)("button",{onClick:()=>c("monthly"),className:"px-3 py-1 rounded-md border ".concat("monthly"===s?"bg-orange-100 border-orange-200 text-orange-700":"border-neutral-200/70"),children:"Monthly"}),(0,l.jsx)("button",{onClick:()=>c("yearly"),className:"px-3 py-1 rounded-md border ".concat("yearly"===s?"bg-orange-100 border-orange-200 text-orange-700":"border-neutral-200/70"),children:"Yearly"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,l.jsxs)("div",{className:"rounded-xl border border-neutral-200/70 bg-white p-5 shadow-sm",children:[(0,l.jsx)("p",{className:"text-sm font-semibold text-neutral-900 mb-1",style:{fontFamily:"var(--font-geist)"},children:"Current Plan"}),(0,l.jsx)("p",{className:"text-2xl font-bold text-neutral-900 mb-1",children:R.name}),(0,l.jsxs)("p",{className:"text-xs text-neutral-600 mb-4",children:["₹",R.price.toLocaleString("en-IN"),"/","monthly"===s?"month":"year"]}),g&&(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("p",{className:"text-xs text-neutral-500 mb-1",children:"Renewal Date"}),(0,l.jsx)("p",{className:"text-sm font-medium text-neutral-900",children:g})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsx)(o(),{href:"/pricing",className:"px-3 py-2 text-sm rounded-md border border-neutral-200/70 text-center hover:bg-neutral-50 transition",children:"Change Plan"}),(0,l.jsx)("button",{onClick:()=>{P("Billing portal is mocked. This feature will be available in production.","info")},className:"px-3 py-2 text-sm rounded-md text-white hover:shadow-lg transition",style:{background:"linear-gradient(135deg,#F97316,#1E3A8A)"},children:"Manage Billing"})]})]}),(0,l.jsxs)("div",{className:"rounded-xl border border-neutral-200/70 bg-white p-5 shadow-sm md:col-span-2",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,l.jsx)("p",{className:"text-sm font-semibold text-neutral-900",style:{fontFamily:"var(--font-geist)"},children:"Credits Usage"}),(0,l.jsxs)("span",{className:"text-xs text-neutral-500",children:[N," / ",y]})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("div",{className:"w-full h-3 rounded-full bg-neutral-100 overflow-hidden",children:(0,l.jsx)("div",{className:"h-full rounded-full transition-all ".concat(A>80?"bg-red-500":A>50?"bg-yellow-500":"bg-green-500"),style:{width:"".concat(Math.min(A,100),"%")}})}),(0,l.jsxs)("div",{className:"flex items-center justify-between mt-2 text-xs text-neutral-600",children:[(0,l.jsxs)("span",{children:["Credits per month: ",y]}),(0,l.jsxs)("span",{children:["Used: ",N]})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,l.jsxs)("div",{className:"p-3 rounded-lg border border-neutral-100 bg-neutral-50",children:[(0,l.jsx)("p",{className:"text-xs text-neutral-600",children:"Remaining"}),(0,l.jsx)("p",{className:"text-lg font-bold text-neutral-900",children:Math.max(0,y-N)})]}),(0,l.jsxs)("div",{className:"p-3 rounded-lg border border-neutral-100 bg-neutral-50",children:[(0,l.jsx)("p",{className:"text-xs text-neutral-600",children:"Usage %"}),(0,l.jsxs)("p",{className:"text-lg font-bold text-neutral-900",children:[Math.round(A),"%"]})]})]})]})]}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("h3",{className:"text-sm font-semibold text-neutral-900 mb-4",style:{fontFamily:"var(--font-geist)"},children:"Available Plans"}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:m.map(e=>{let t=e.code===_,s=e.recommended;return(0,l.jsxs)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative rounded-xl border p-4 ".concat(t?"border-orange-500 bg-orange-50":s?"border-blue-200 bg-blue-50":"border-neutral-200/70 bg-white"),children:[s&&!t&&(0,l.jsx)("span",{className:"absolute -top-2 left-1/2 -translate-x-1/2 px-2 py-0.5 rounded-full bg-blue-600 text-white text-[10px] font-medium",children:"Recommended"}),t&&(0,l.jsx)("span",{className:"absolute -top-2 left-1/2 -translate-x-1/2 px-2 py-0.5 rounded-full bg-orange-600 text-white text-[10px] font-medium",children:"Current"}),(0,l.jsx)("h4",{className:"text-lg font-bold text-neutral-900 mb-1",children:e.name}),(0,l.jsxs)("p",{className:"text-2xl font-bold text-neutral-900 mb-1",children:["₹",e.price.toLocaleString("en-IN"),(0,l.jsx)("span",{className:"text-sm font-normal text-neutral-600",children:"/mo"})]}),(0,l.jsxs)("p",{className:"text-xs text-neutral-600 mb-3",children:[e.credits," verifications/month"]}),(0,l.jsx)("ul",{className:"space-y-1.5 mb-4",children:e.features.map((e,t)=>(0,l.jsxs)("li",{className:"flex items-start gap-2 text-xs text-neutral-700",children:[(0,l.jsx)(d.In,{icon:"mdi:check-circle",width:14,className:"text-green-600 mt-0.5 flex-shrink-0"}),(0,l.jsx)("span",{children:e})]},t))}),t?(0,l.jsx)("button",{disabled:!0,className:"w-full px-3 py-2 text-sm rounded-md border border-neutral-200 bg-neutral-100 text-neutral-500 cursor-not-allowed",children:"Current Plan"}):(0,l.jsx)("div",{className:"flex gap-2",children:e.price>R.price?(0,l.jsx)("button",{className:"flex-1 px-3 py-2 text-sm rounded-md text-white hover:shadow-lg transition",style:{background:"linear-gradient(135deg,#F97316,#1E3A8A)"},children:"Upgrade"}):(0,l.jsx)("button",{className:"flex-1 px-3 py-2 text-sm rounded-md border border-neutral-200 text-neutral-700 hover:bg-neutral-50 transition",children:"Downgrade"})})]},e.code)})})]}),(0,l.jsxs)("div",{className:"rounded-xl border border-neutral-200/70 bg-white p-5 shadow-sm",children:[(0,l.jsx)("p",{className:"text-sm font-semibold text-neutral-900 mb-4",style:{fontFamily:"var(--font-geist)"},children:"Invoice History"}),(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"w-full",children:[(0,l.jsx)("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"text-left px-4 py-3 text-xs font-semibold text-neutral-600 uppercase",children:"Date"}),(0,l.jsx)("th",{className:"text-left px-4 py-3 text-xs font-semibold text-neutral-600 uppercase",children:"Plan"}),(0,l.jsx)("th",{className:"text-left px-4 py-3 text-xs font-semibold text-neutral-600 uppercase",children:"Amount"}),(0,l.jsx)("th",{className:"text-left px-4 py-3 text-xs font-semibold text-neutral-600 uppercase",children:"Status"})]})}),(0,l.jsxs)("tbody",{className:"divide-y divide-neutral-100",children:[h.map((e,t)=>(0,l.jsxs)("tr",{className:"hover:bg-neutral-50",children:[(0,l.jsx)("td",{className:"px-4 py-3 text-sm text-neutral-900",children:new Date(String(e.timestamp)).toLocaleDateString("en-IN",{month:"short",day:"numeric",year:"numeric"})}),(0,l.jsx)("td",{className:"px-4 py-3 text-sm text-neutral-600",children:String(e.product_id)}),(0,l.jsx)("td",{className:"px-4 py-3 text-sm font-medium text-neutral-900",children:((Number(e.price)||0)/100).toLocaleString("en-IN",{style:"currency",currency:String(e.currency||"INR")})}),(0,l.jsx)("td",{className:"px-4 py-3",children:(0,l.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700",children:"Paid"})})]},t)),0===h.length&&(0,l.jsx)("tr",{children:(0,l.jsx)("td",{colSpan:4,className:"px-4 py-8 text-center text-sm text-neutral-500",children:"No invoices yet."})})]})]})})]}),(0,l.jsxs)("div",{className:"mt-6 rounded-xl border border-neutral-200/70 bg-white p-5 shadow-sm",children:[(0,l.jsx)("p",{className:"text-sm font-semibold text-neutral-900 mb-4",style:{fontFamily:"var(--font-geist)"},children:"Usage Analytics"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{className:"rounded-lg border border-neutral-200/70 p-4",children:[(0,l.jsx)("p",{className:"text-xs text-neutral-600 mb-1",children:"Verifications (30d)"}),(0,l.jsx)("p",{className:"text-2xl font-bold text-neutral-900",style:{fontFamily:"var(--font-geist)"},children:"248"})]}),(0,l.jsxs)("div",{className:"rounded-lg border border-neutral-200/70 p-4",children:[(0,l.jsx)("p",{className:"text-xs text-neutral-600 mb-1",children:"Credits used/team member"}),(0,l.jsx)("p",{className:"text-2xl font-bold text-neutral-900",style:{fontFamily:"var(--font-geist)"},children:"~150"})]}),(0,l.jsxs)("div",{className:"rounded-lg border border-neutral-200/70 p-4",children:[(0,l.jsx)("p",{className:"text-xs text-neutral-600 mb-1",children:"Trend"}),(0,l.jsx)("p",{className:"text-2xl font-bold text-green-600",style:{fontFamily:"var(--font-geist)"},children:"+12%"})]})]})]})]})})}},9494:(e,t,s)=>{Promise.resolve().then(s.bind(s,610))}},e=>{var t=t=>e(e.s=t);e.O(0,[5206,7347,6874,8231,8441,1684,7358],()=>t(9494)),_N_E=e.O()}]);