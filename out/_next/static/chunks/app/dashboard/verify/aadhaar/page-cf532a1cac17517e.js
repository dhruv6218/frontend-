(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5534],{1260:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var a=r(5155),s=r(2115),l=r(7347);function n(e){let{columns:t,data:r,pageSize:n=8,searchable:i=!0}=e,[d,o]=(0,s.useState)(1),[c,u]=(0,s.useState)(null),[m,h]=(0,s.useState)("asc"),[x,p]=(0,s.useState)(""),f=(0,s.useMemo)(()=>{let e=x.trim().toLowerCase(),t=r;return e&&(t=t.filter(t=>Object.values(t).some(t=>String(t).toLowerCase().includes(e)))),c&&(t=[...t].sort((e,t)=>{let r=e[c],a=t[c];return r===a?0:"asc"===m?String(r)>String(a)?1:-1:String(r)<String(a)?1:-1})),t},[r,x,c,m]),b=Math.max(1,Math.ceil(f.length/n)),g=(d-1)*n,y=f.slice(g,g+n);return(0,a.jsxs)("div",{className:"w-full",children:[i&&(0,a.jsx)("div",{className:"mb-2 flex items-center",children:(0,a.jsxs)("div",{className:"relative w-full max-w-xs",children:[(0,a.jsx)(l.In,{icon:"mdi:magnify",width:18,className:"absolute left-2 top-1/2 -translate-y-1/2 text-neutral-500"}),(0,a.jsx)("input",{value:x,onChange:e=>{p(e.target.value),o(1)},placeholder:"Search…",className:"pl-7 pr-2 py-1.5 text-sm rounded-md border border-neutral-200/70 bg-white/80 w-full"})]})}),(0,a.jsx)("div",{className:"overflow-auto border border-neutral-200/70 rounded-lg",children:(0,a.jsxs)("table",{className:"min-w-full text-sm",children:[(0,a.jsx)("thead",{className:"bg-neutral-50",children:(0,a.jsx)("tr",{children:t.map(e=>(0,a.jsx)("th",{className:"text-left font-normal px-3 py-2 border-b border-neutral-200/70",children:(0,a.jsxs)("button",{className:"inline-flex items-center gap-1 hover:underline",onClick:()=>{c===e.key&&h(e=>"asc"===e?"desc":"asc"),u(e.key)},children:[(0,a.jsx)("span",{children:e.header}),c===e.key&&(0,a.jsx)(l.In,{icon:"asc"===m?"mdi:arrow-up":"mdi:arrow-down",width:14})]})},String(e.key)))})}),(0,a.jsx)("tbody",{children:y.map((e,r)=>(0,a.jsx)("tr",{className:"odd:bg-white even:bg-neutral-50/60",children:t.map(t=>{var r;return(0,a.jsx)("td",{className:"px-3 py-2 border-b border-neutral-200/60",children:t.render?t.render(e):String(null!=(r=e[t.key])?r:"")},String(t.key))})},r))})]})}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,a.jsxs)("p",{className:"text-xs text-neutral-500",children:["Page ",d," of ",b]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("button",{className:"px-2 py-1 text-xs rounded border border-neutral-200/70",disabled:1===d,onClick:()=>o(e=>Math.max(1,e-1)),children:"Prev"}),(0,a.jsx)("button",{className:"px-2 py-1 text-xs rounded border border-neutral-200/70",disabled:d===b,onClick:()=>o(e=>Math.min(b,e+1)),children:"Next"})]})]})]})}},2036:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var a=r(5155),s=r(7347),l=r(5206);function n(){return(0,a.jsxs)(l.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-4 p-3 rounded-lg bg-amber-50 border border-amber-200 flex items-start gap-3",children:[(0,a.jsx)(s.In,{icon:"mdi:alert-circle-outline",width:20,className:"text-amber-600 flex-shrink-0 mt-0.5"}),(0,a.jsxs)("p",{className:"text-sm text-amber-800",children:[(0,a.jsx)("span",{className:"font-semibold",children:"Important:"})," Always manually review reports before making decisions. Automated verification results are for reference only and should be validated through your internal processes."]})]})}},3150:(e,t,r)=>{Promise.resolve().then(r.bind(r,5375))},5375:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var a=r(5155),s=r(6310),l=r(5886),n=r(1260),i=r(2036),d=r(2115),o=r(5695),c=r(7347),u=r(9114),m=r(5206),h=r(6874),x=r.n(h),p=r(9984);function f(){(0,o.useRouter)();let[e,t]=(0,d.useState)(""),[r,h]=(0,d.useState)(""),[f,b]=(0,d.useState)([]),[g,y]=(0,d.useState)(null),[j,v]=(0,d.useState)(!1),[N,w]=(0,d.useState)(""),[k,S]=(0,d.useState)(""),[P,C]=(0,d.useState)(null);async function A(){b((await p.G.verifications.list()).filter(e=>e.type.startsWith("aadhaar")).map(e=>{var t;return{masked:(null==(t=e.payload)?void 0:t.aadhaar)?String(e.payload.aadhaar).replace(/\d(?=\d{4})/g,"*"):"—",status:e.status,method:"OTP",risk:0}}))}(0,d.useEffect)(()=>{A()},[]);let M=async t=>{t.preventDefault(),v(!0),y(null);try{var a,s,l;let t=null!=(a=(await p.G.verifications.create("aadhaar_send_otp",{aadhaar:r||e})).result)?a:{},n=String(null!=(l=null!=(s=t.ReqId)?s:t.reqId)?l:"");n&&S(n),y("OTP sent to Aadhaar-linked mobile. Enter OTP below to complete."),await A()}catch(e){y(e.message)}finally{v(!1)}},R=async t=>{t.preventDefault(),v(!0),y(null),C(null);try{await p.G.verifications.create("aadhaar_submit_otp",{aadhaar:r||e,otp:N,reqId:k});let t="RPT-".concat(Date.now()),a={aadhaar:(r||e).replace(/\d(?=\d{4})/g,"*"),status:"Verified",riskLevel:10,keyFields:{verificationMethod:"OTP",masked:(r||e).replace(/\d(?=\d{4})/g,"*")}};C({reportId:t,summary:a}),y("Aadhaar verified successfully."),w(""),S(""),await A()}catch(e){y(e.message)}finally{v(!1)}};return(0,a.jsx)(s.A,{allowedRoles:["user"],children:(0,a.jsxs)(l.A,{title:"Aadhaar Verification",subtitle:"Use VID or Aadhaar; results are masked for privacy",children:[(0,a.jsxs)("form",{onSubmit:M,className:"grid grid-cols-1 md:grid-cols-5 gap-2 mb-4",children:[(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("label",{className:"text-xs text-neutral-600",children:"Aadhaar (12 digits)"}),(0,a.jsx)("input",{value:e,onChange:e=>t(e.target.value.replace(/[^0-9]/g,"").slice(0,12)),inputMode:"numeric",placeholder:"123412341234",className:"w-full px-3 py-2 rounded-md border border-neutral-200/70 text-sm"})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("label",{className:"text-xs text-neutral-600",children:"VID (Virtual ID, optional)"}),(0,a.jsx)("input",{value:r,onChange:e=>h(e.target.value),placeholder:"XXXX-XXXX-XXXX-XXXX",className:"w-full px-3 py-2 rounded-md border border-neutral-200/70 text-sm"})]}),(0,a.jsx)("div",{className:"flex items-end",children:(0,a.jsx)("button",{disabled:j,type:"submit",className:"w-full px-3 py-2 rounded-md text-white bg-orange-600 disabled:opacity-50",children:j?"Sending…":"Send OTP"})})]}),(0,a.jsxs)("form",{onSubmit:R,className:"grid grid-cols-1 md:grid-cols-5 gap-2 mb-4",children:[(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("label",{className:"text-xs text-neutral-600",children:"ReqId"}),(0,a.jsx)("input",{value:k,onChange:e=>S(e.target.value),placeholder:"Auto-filled after Send OTP",className:"w-full px-3 py-2 rounded-md border border-neutral-200/70 text-sm"})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("label",{className:"text-xs text-neutral-600",children:"OTP"}),(0,a.jsx)("input",{value:N,onChange:e=>w(e.target.value.replace(/[^0-9]/g,"").slice(0,6)),inputMode:"numeric",placeholder:"Enter 6-digit OTP",className:"w-full px-3 py-2 rounded-md border border-neutral-200/70 text-sm"})]}),(0,a.jsx)("div",{className:"flex items-end",children:(0,a.jsx)("button",{disabled:j||!k||!N,type:"submit",className:"w-full px-3 py-2 rounded-md text-white bg-orange-600 disabled:opacity-50",children:j?"Verifying…":"Submit OTP"})})]}),g&&(0,a.jsx)("p",{className:"text-xs mb-2 text-green-600",children:g}),(0,a.jsx)(u.N,{children:P&&(0,a.jsxs)(m.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"mb-6 rounded-xl border border-neutral-200/70 bg-white p-6 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-neutral-900",style:{fontFamily:"var(--font-geist)"},children:"Verification Result Summary"}),(0,a.jsxs)("div",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat(P.summary.riskLevel<30?"bg-green-100 text-green-700":P.summary.riskLevel<60?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"),children:["Risk: ",P.summary.riskLevel,"/100"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-neutral-500 mb-1",children:"Aadhaar (Masked)"}),(0,a.jsx)("p",{className:"text-sm font-medium text-neutral-900",children:P.summary.aadhaar})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-neutral-500 mb-1",children:"Status"}),(0,a.jsx)("p",{className:"text-sm font-medium text-neutral-900",children:P.summary.status})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-neutral-500 mb-1",children:"Verification Method"}),(0,a.jsx)("p",{className:"text-sm font-medium text-neutral-900",children:P.summary.keyFields.verificationMethod})]})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-neutral-100",children:[(0,a.jsxs)(x(),{href:"/dashboard/reports/".concat(P.reportId),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-orange-500 to-blue-600 text-white text-sm font-medium hover:shadow-lg transition",children:[(0,a.jsx)(c.In,{icon:"mdi:file-document-outline",width:18}),"View Full Report"]}),(0,a.jsx)("button",{onClick:()=>{C(null),t(""),h(""),w(""),S("")},className:"px-4 py-2 rounded-lg border border-neutral-200 text-neutral-700 text-sm font-medium hover:bg-neutral-50 transition",children:"Verify Another"})]})]})}),(0,a.jsx)(i.A,{}),(0,a.jsx)("p",{className:"text-sm mb-2 mt-6",style:{fontFamily:"var(--font-geist)",fontWeight:600},children:"Recent Aadhaar checks"}),(0,a.jsx)(n.A,{columns:[{key:"masked",header:"Aadhaar"},{key:"status",header:"Status"},{key:"method",header:"Method"},{key:"risk",header:"Risk"}],data:f})]})})}},9114:(e,t,r)=>{"use strict";r.d(t,{N:()=>y});var a=r(5155),s=r(2115),l=r(869),n=r(2885),i=r(7494),d=r(845),o=r(7351),c=r(1508);function u(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class m extends s.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,r=(0,o.s)(e)&&e.offsetWidth||0,a=this.props.sizeRef.current;a.height=t.offsetHeight||0,a.width=t.offsetWidth||0,a.top=t.offsetTop,a.left=t.offsetLeft,a.right=r-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function h(e){let{children:t,isPresent:r,anchorX:l,root:n}=e,i=(0,s.useId)(),d=(0,s.useRef)(null),o=(0,s.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=(0,s.useContext)(c.Q),x=function(...e){return s.useCallback(function(...e){return t=>{let r=!1,a=e.map(e=>{let a=u(e,t);return r||"function"!=typeof a||(r=!0),a});if(r)return()=>{for(let t=0;t<a.length;t++){let r=a[t];"function"==typeof r?r():u(e[t],null)}}}}(...e),e)}(d,null==t?void 0:t.ref);return(0,s.useInsertionEffect)(()=>{let{width:e,height:t,top:a,left:s,right:c}=o.current;if(r||!d.current||!e||!t)return;d.current.dataset.motionPopId=i;let u=document.createElement("style");h&&(u.nonce=h);let m=null!=n?n:document.head;return m.appendChild(u),u.sheet&&u.sheet.insertRule('\n          [data-motion-pop-id="'.concat(i,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat("left"===l?"left: ".concat(s):"right: ".concat(c),"px !important;\n            top: ").concat(a,"px !important;\n          }\n        ")),()=>{m.contains(u)&&m.removeChild(u)}},[r]),(0,a.jsx)(m,{isPresent:r,childRef:d,sizeRef:o,children:s.cloneElement(t,{ref:x})})}let x=e=>{let{children:t,initial:r,isPresent:l,onExitComplete:i,custom:o,presenceAffectsLayout:c,mode:u,anchorX:m,root:x}=e,f=(0,n.M)(p),b=(0,s.useId)(),g=!0,y=(0,s.useMemo)(()=>(g=!1,{id:b,initial:r,isPresent:l,custom:o,onExitComplete:e=>{for(let t of(f.set(e,!0),f.values()))if(!t)return;i&&i()},register:e=>(f.set(e,!1),()=>f.delete(e))}),[l,f,i]);return c&&g&&(y={...y}),(0,s.useMemo)(()=>{f.forEach((e,t)=>f.set(t,!1))},[l]),s.useEffect(()=>{l||f.size||!i||i()},[l]),"popLayout"===u&&(t=(0,a.jsx)(h,{isPresent:l,anchorX:m,root:x,children:t})),(0,a.jsx)(d.t.Provider,{value:y,children:t})};function p(){return new Map}var f=r(2082);let b=e=>e.key||"";function g(e){let t=[];return s.Children.forEach(e,e=>{(0,s.isValidElement)(e)&&t.push(e)}),t}let y=e=>{let{children:t,custom:r,initial:d=!0,onExitComplete:o,presenceAffectsLayout:c=!0,mode:u="sync",propagate:m=!1,anchorX:h="left",root:p}=e,[y,j]=(0,f.xQ)(m),v=(0,s.useMemo)(()=>g(t),[t]),N=m&&!y?[]:v.map(b),w=(0,s.useRef)(!0),k=(0,s.useRef)(v),S=(0,n.M)(()=>new Map),[P,C]=(0,s.useState)(v),[A,M]=(0,s.useState)(v);(0,i.E)(()=>{w.current=!1,k.current=v;for(let e=0;e<A.length;e++){let t=b(A[e]);N.includes(t)?S.delete(t):!0!==S.get(t)&&S.set(t,!1)}},[A,N.length,N.join("-")]);let R=[];if(v!==P){let e=[...v];for(let t=0;t<A.length;t++){let r=A[t],a=b(r);N.includes(a)||(e.splice(t,0,r),R.push(r))}return"wait"===u&&R.length&&(e=R),M(g(e)),C(v),null}let{forceRender:X}=(0,s.useContext)(l.L);return(0,a.jsx)(a.Fragment,{children:A.map(e=>{let t=b(e),s=(!m||!!y)&&(v===A||N.includes(t));return(0,a.jsx)(x,{isPresent:s,initial:(!w.current||!!d)&&void 0,custom:r,presenceAffectsLayout:c,mode:u,root:p,onExitComplete:s?void 0:()=>{if(!S.has(t))return;S.set(t,!0);let e=!0;S.forEach(t=>{t||(e=!1)}),e&&(null==X||X(),M(k.current),m&&(null==j||j()),o&&o())},anchorX:h,children:e},t)})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[5206,7347,6874,8231,8441,1684,7358],()=>t(3150)),_N_E=e.O()}]);