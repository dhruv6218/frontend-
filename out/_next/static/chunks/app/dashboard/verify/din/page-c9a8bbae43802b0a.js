(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4779],{1260:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(5155),s=r(2115),l=r(7347);function a(e){let{columns:t,data:r,pageSize:a=8,searchable:i=!0}=e,[o,c]=(0,s.useState)(1),[u,d]=(0,s.useState)(null),[m,x]=(0,s.useState)("asc"),[h,p]=(0,s.useState)(""),f=(0,s.useMemo)(()=>{let e=h.trim().toLowerCase(),t=r;return e&&(t=t.filter(t=>Object.values(t).some(t=>String(t).toLowerCase().includes(e)))),u&&(t=[...t].sort((e,t)=>{let r=e[u],n=t[u];return r===n?0:"asc"===m?String(r)>String(n)?1:-1:String(r)<String(n)?1:-1})),t},[r,h,u,m]),g=Math.max(1,Math.ceil(f.length/a)),y=(o-1)*a,b=f.slice(y,y+a);return(0,n.jsxs)("div",{className:"w-full",children:[i&&(0,n.jsx)("div",{className:"mb-2 flex items-center",children:(0,n.jsxs)("div",{className:"relative w-full max-w-xs",children:[(0,n.jsx)(l.In,{icon:"mdi:magnify",width:18,className:"absolute left-2 top-1/2 -translate-y-1/2 text-neutral-500"}),(0,n.jsx)("input",{value:h,onChange:e=>{p(e.target.value),c(1)},placeholder:"Search…",className:"pl-7 pr-2 py-1.5 text-sm rounded-md border border-neutral-200/70 bg-white/80 w-full"})]})}),(0,n.jsx)("div",{className:"overflow-auto border border-neutral-200/70 rounded-lg",children:(0,n.jsxs)("table",{className:"min-w-full text-sm",children:[(0,n.jsx)("thead",{className:"bg-neutral-50",children:(0,n.jsx)("tr",{children:t.map(e=>(0,n.jsx)("th",{className:"text-left font-normal px-3 py-2 border-b border-neutral-200/70",children:(0,n.jsxs)("button",{className:"inline-flex items-center gap-1 hover:underline",onClick:()=>{u===e.key&&x(e=>"asc"===e?"desc":"asc"),d(e.key)},children:[(0,n.jsx)("span",{children:e.header}),u===e.key&&(0,n.jsx)(l.In,{icon:"asc"===m?"mdi:arrow-up":"mdi:arrow-down",width:14})]})},String(e.key)))})}),(0,n.jsx)("tbody",{children:b.map((e,r)=>(0,n.jsx)("tr",{className:"odd:bg-white even:bg-neutral-50/60",children:t.map(t=>{var r;return(0,n.jsx)("td",{className:"px-3 py-2 border-b border-neutral-200/60",children:t.render?t.render(e):String(null!=(r=e[t.key])?r:"")},String(t.key))})},r))})]})}),(0,n.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,n.jsxs)("p",{className:"text-xs text-neutral-500",children:["Page ",o," of ",g]}),(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[(0,n.jsx)("button",{className:"px-2 py-1 text-xs rounded border border-neutral-200/70",disabled:1===o,onClick:()=>c(e=>Math.max(1,e-1)),children:"Prev"}),(0,n.jsx)("button",{className:"px-2 py-1 text-xs rounded border border-neutral-200/70",disabled:o===g,onClick:()=>c(e=>Math.min(g,e+1)),children:"Next"})]})]})]})}},2036:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(5155),s=r(7347),l=r(5206);function a(){return(0,n.jsxs)(l.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-4 p-3 rounded-lg bg-amber-50 border border-amber-200 flex items-start gap-3",children:[(0,n.jsx)(s.In,{icon:"mdi:alert-circle-outline",width:20,className:"text-amber-600 flex-shrink-0 mt-0.5"}),(0,n.jsxs)("p",{className:"text-sm text-amber-800",children:[(0,n.jsx)("span",{className:"font-semibold",children:"Important:"})," Always manually review reports before making decisions. Automated verification results are for reference only and should be validated through your internal processes."]})]})}},2067:(e,t,r)=>{"use strict";function n(e){return!!e&&"string"==typeof e&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.trim())}function s(e){return!!e&&"string"==typeof e&&/^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$/.test(e.trim().toUpperCase())}function l(e){return!!e&&"string"==typeof e&&/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/.test(e.trim().toUpperCase())}function a(e){return!!e&&"string"==typeof e&&/^[A-Z]{4}0[A-Z0-9]{6}$/.test(e.trim().toUpperCase())}function i(e){return!!e&&"string"==typeof e&&/^[0-9]{10,18}$/.test(e.replace(/\s/g,""))}function o(e){return!!e&&"string"==typeof e&&/^[LU][0-9]{5}[A-Z]{2}[0-9]{4}[A-Z]{3}[0-9]{6}$/.test(e.trim().toUpperCase())}function c(e){return!!e&&"string"==typeof e&&/^[0-9]{8}$/.test(e.replace(/\s/g,""))}r.d(t,{B9:()=>n,E6:()=>i,GF:()=>s,UV:()=>a,bx:()=>o,k1:()=>l,y2:()=>c})},4055:(e,t,r)=>{Promise.resolve().then(r.bind(r,9142))},9114:(e,t,r)=>{"use strict";r.d(t,{N:()=>b});var n=r(5155),s=r(2115),l=r(869),a=r(2885),i=r(7494),o=r(845),c=r(7351),u=r(1508);function d(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class m extends s.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,r=(0,c.s)(e)&&e.offsetWidth||0,n=this.props.sizeRef.current;n.height=t.offsetHeight||0,n.width=t.offsetWidth||0,n.top=t.offsetTop,n.left=t.offsetLeft,n.right=r-n.width-n.left}return null}componentDidUpdate(){}render(){return this.props.children}}function x(e){let{children:t,isPresent:r,anchorX:l,root:a}=e,i=(0,s.useId)(),o=(0,s.useRef)(null),c=(0,s.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:x}=(0,s.useContext)(u.Q),h=function(...e){return s.useCallback(function(...e){return t=>{let r=!1,n=e.map(e=>{let n=d(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){let r=n[t];"function"==typeof r?r():d(e[t],null)}}}}(...e),e)}(o,null==t?void 0:t.ref);return(0,s.useInsertionEffect)(()=>{let{width:e,height:t,top:n,left:s,right:u}=c.current;if(r||!o.current||!e||!t)return;o.current.dataset.motionPopId=i;let d=document.createElement("style");x&&(d.nonce=x);let m=null!=a?a:document.head;return m.appendChild(d),d.sheet&&d.sheet.insertRule('\n          [data-motion-pop-id="'.concat(i,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat("left"===l?"left: ".concat(s):"right: ".concat(u),"px !important;\n            top: ").concat(n,"px !important;\n          }\n        ")),()=>{m.contains(d)&&m.removeChild(d)}},[r]),(0,n.jsx)(m,{isPresent:r,childRef:o,sizeRef:c,children:s.cloneElement(t,{ref:h})})}let h=e=>{let{children:t,initial:r,isPresent:l,onExitComplete:i,custom:c,presenceAffectsLayout:u,mode:d,anchorX:m,root:h}=e,f=(0,a.M)(p),g=(0,s.useId)(),y=!0,b=(0,s.useMemo)(()=>(y=!1,{id:g,initial:r,isPresent:l,custom:c,onExitComplete:e=>{for(let t of(f.set(e,!0),f.values()))if(!t)return;i&&i()},register:e=>(f.set(e,!1),()=>f.delete(e))}),[l,f,i]);return u&&y&&(b={...b}),(0,s.useMemo)(()=>{f.forEach((e,t)=>f.set(t,!1))},[l]),s.useEffect(()=>{l||f.size||!i||i()},[l]),"popLayout"===d&&(t=(0,n.jsx)(x,{isPresent:l,anchorX:m,root:h,children:t})),(0,n.jsx)(o.t.Provider,{value:b,children:t})};function p(){return new Map}var f=r(2082);let g=e=>e.key||"";function y(e){let t=[];return s.Children.forEach(e,e=>{(0,s.isValidElement)(e)&&t.push(e)}),t}let b=e=>{let{children:t,custom:r,initial:o=!0,onExitComplete:c,presenceAffectsLayout:u=!0,mode:d="sync",propagate:m=!1,anchorX:x="left",root:p}=e,[b,v]=(0,f.xQ)(m),j=(0,s.useMemo)(()=>y(t),[t]),N=m&&!b?[]:j.map(g),w=(0,s.useRef)(!0),k=(0,s.useRef)(j),S=(0,a.M)(()=>new Map),[C,A]=(0,s.useState)(j),[E,I]=(0,s.useState)(j);(0,i.E)(()=>{w.current=!1,k.current=j;for(let e=0;e<E.length;e++){let t=g(E[e]);N.includes(t)?S.delete(t):!0!==S.get(t)&&S.set(t,!1)}},[E,N.length,N.join("-")]);let P=[];if(j!==C){let e=[...j];for(let t=0;t<E.length;t++){let r=E[t],n=g(r);N.includes(n)||(e.splice(t,0,r),P.push(r))}return"wait"===d&&P.length&&(e=P),I(y(e)),A(j),null}let{forceRender:R}=(0,s.useContext)(l.L);return(0,n.jsx)(n.Fragment,{children:E.map(e=>{let t=g(e),s=(!m||!!b)&&(j===E||N.includes(t));return(0,n.jsx)(h,{isPresent:s,initial:(!w.current||!!o)&&void 0,custom:r,presenceAffectsLayout:u,mode:d,root:p,onExitComplete:s?void 0:()=>{if(!S.has(t))return;S.set(t,!0);let e=!0;S.forEach(t=>{t||(e=!1)}),e&&(null==R||R(),I(k.current),m&&(null==v||v()),c&&c())},anchorX:x,children:e},t)})})}},9142:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>y});var n=r(5155),s=r(6310),l=r(5886),a=r(1260),i=r(2036),o=r(2115),c=r(9647),u=r(5695),d=r(7347),m=r(9114),x=r(5206),h=r(6874),p=r.n(h),f=r(9984),g=r(2067);function y(){let{t:e}=(0,c.s)();(0,u.useRouter)();let[t,r]=(0,o.useState)(""),[h,y]=(0,o.useState)([]),[b,v]=(0,o.useState)(null),[j,N]=(0,o.useState)(!1),[w,k]=(0,o.useState)(null);async function S(){y((await f.G.verifications.list()).filter(e=>"din"===e.type).map(e=>{var t,r,n,s,l,a,i;return{din:String(null!=(s=null==(t=e.payload)?void 0:t.din)?s:""),director:String(null!=(l=null==(r=e.result)?void 0:r.director_name)?l:"—"),company:String(null!=(a=null==(n=e.result)?void 0:n.company_name)?a:"—"),status:String(null!=(i=e.status)?i:"—"),risk:0}}))}(0,o.useEffect)(()=>{S()},[]);let C=async e=>{if(e.preventDefault(),!(0,g.y2)(t))return void v("Please enter a valid 8-digit DIN");N(!0),v(null),k(null);try{await f.G.verifications.create("din",{din:t});let e="RPT-".concat(Date.now());k({reportId:e,summary:{din:t,directorName:"John Doe",companyName:"ACME Corporation Ltd",status:"Active",riskLevel:15,keyFields:{designation:"Director",appointmentDate:"2020-01-15"}}}),v("DIN verification completed."),await S()}catch(e){v(e.message)}finally{N(!1)}};return(0,n.jsx)(s.A,{allowedRoles:["user"],children:(0,n.jsxs)(l.A,{title:e("verify.din.title"),subtitle:e("verify.din.subtitle"),children:[(0,n.jsxs)("form",{onSubmit:C,className:"grid grid-cols-1 md:grid-cols-4 gap-2 mb-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"text-xs text-neutral-600",children:e("verify.din.input")}),(0,n.jsx)("input",{value:t,onChange:e=>r(e.target.value.replace(/\D/g,"").slice(0,8)),required:!0,minLength:8,maxLength:8,pattern:"\\\\d{8}",placeholder:"12345678",className:"w-full px-3 py-2 rounded-md border border-neutral-200/70 text-sm"}),(0,n.jsx)("p",{className:"text-[11px] text-neutral-500 mt-1",children:"8 digits, numeric only"})]}),(0,n.jsx)("div",{className:"flex items-end",children:(0,n.jsx)("button",{disabled:j,type:"submit",className:"w-full px-3 py-2 rounded-md text-white bg-orange-600 disabled:opacity-50",children:j?"Checking\x1a":e("verify.check")})})]}),b&&(0,n.jsx)("p",{className:"text-xs mb-2 text-green-600",children:b}),(0,n.jsx)(m.N,{children:w&&(0,n.jsxs)(x.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"mb-6 rounded-xl border border-neutral-200/70 bg-white p-6 shadow-sm",children:[(0,n.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-neutral-900",style:{fontFamily:"var(--font-geist)"},children:"Verification Result Summary"}),(0,n.jsxs)("div",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat(w.summary.riskLevel<30?"bg-green-100 text-green-700":w.summary.riskLevel<60?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"),children:["Risk: ",w.summary.riskLevel,"/100"]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-xs text-neutral-500 mb-1",children:"DIN"}),(0,n.jsx)("p",{className:"text-sm font-medium text-neutral-900",children:w.summary.din})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-xs text-neutral-500 mb-1",children:"Director Name"}),(0,n.jsx)("p",{className:"text-sm font-medium text-neutral-900",children:w.summary.directorName})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-xs text-neutral-500 mb-1",children:"Company"}),(0,n.jsx)("p",{className:"text-sm font-medium text-neutral-900",children:w.summary.companyName})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-xs text-neutral-500 mb-1",children:"Status"}),(0,n.jsx)("p",{className:"text-sm font-medium text-neutral-900",children:w.summary.status})]})]}),(0,n.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-neutral-100",children:[(0,n.jsxs)(p(),{href:"/dashboard/reports/".concat(w.reportId),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-orange-500 to-blue-600 text-white text-sm font-medium hover:shadow-lg transition",children:[(0,n.jsx)(d.In,{icon:"mdi:file-document-outline",width:18}),"View Full Report"]}),(0,n.jsx)("button",{onClick:()=>{k(null),r("")},className:"px-4 py-2 rounded-lg border border-neutral-200 text-neutral-700 text-sm font-medium hover:bg-neutral-50 transition",children:"Verify Another"})]})]})}),(0,n.jsx)(i.A,{}),(0,n.jsx)("p",{className:"text-sm mb-2 mt-6",style:{fontFamily:"var(--font-geist)",fontWeight:600},children:"Recent DIN checks"}),(0,n.jsx)(a.A,{columns:[{key:"din",header:"DIN"},{key:"director",header:"Director"},{key:"company",header:"Company"},{key:"status",header:"Status"},{key:"risk",header:"Risk"}],data:h})]})})}},9647:(e,t,r)=>{"use strict";r.d(t,{I:()=>i,s:()=>o});var n=r(5155),s=r(2115);let l=(0,s.createContext)(null),a=async e=>{let t=await fetch("/locales/".concat(e,".json"),{cache:"force-cache"});try{let e=await t.json();return null!=e?e:{}}catch(e){return{}}};function i(e){let{children:t}=e,[r,i]=(0,s.useState)(()=>localStorage.getItem("rvn_locale")||"en"),[o,c]=(0,s.useState)({});(0,s.useEffect)(()=>{let e=!0;(async()=>{let t=await a(r);e&&c(t)})();try{localStorage.setItem("rvn_locale",r)}catch(e){}try{document.documentElement.setAttribute("lang",r)}catch(e){}return()=>{e=!1}},[r]);let u=(0,s.useMemo)(()=>e=>{var t;return null!=(t=o[e])?t:e},[o]),d=(0,s.useMemo)(()=>({locale:r,setLocale:i,t:u}),[r,u]);return(0,n.jsx)(l.Provider,{value:d,children:t})}function o(){let e=(0,s.useContext)(l);if(!e)throw Error("useI18n must be used within LanguageProvider");return e}}},e=>{var t=t=>e(e.s=t);e.O(0,[5206,7347,6874,8231,8441,1684,7358],()=>t(4055)),_N_E=e.O()}]);