(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[143],{126:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var a=s(8097),r=s(5806),l=s(5189),n=s(4548),i=s(2085),c=s(3563);function d(){let[e,t]=(0,i.useState)(""),[s,d]=(0,i.useState)([]),[o,u]=(0,i.useState)(null),[m,x]=(0,i.useState)(!1);async function h(){d((await c.G.verifications.list()).filter(e=>"mca_cin"===e.type).map(e=>{var t,s,a,r,l,n,i;return{cin:String(null!=(r=null==(t=e.payload)?void 0:t.cin)?r:""),company:String(null!=(l=null==(s=e.result)?void 0:s.companyName)?l:"—"),status:String(null!=(n=e.status)?n:"—"),directors:Number(null!=(i=null==(a=e.result)?void 0:a.DirectorsCount)?i:0),risk:0}}))}(0,i.useEffect)(()=>{h()},[]);let p=async t=>{t.preventDefault(),x(!0),u(null);try{await c.G.verifications.create("mca_cin",{cin:e}),u("MCA search completed."),await h()}catch(e){u(e.message)}finally{x(!1)}};return(0,a.jsx)(r.A,{allowedRoles:["user"],children:(0,a.jsxs)(l.A,{title:"MCA Verification",subtitle:"Fetch CIN/DIN details, status, charges, and directors",children:[(0,a.jsxs)("form",{onSubmit:p,className:"grid grid-cols-1 md:grid-cols-5 gap-2 mb-4",children:[(0,a.jsxs)("div",{className:"md:col-span-4",children:[(0,a.jsx)("label",{className:"text-xs text-neutral-600",children:"CIN / Company Name"}),(0,a.jsx)("input",{value:e,onChange:e=>t(e.target.value),placeholder:"U74999MH2018PTC123456 or Company Name",className:"w-full px-3 py-2 rounded-md border border-neutral-200/70 text-sm"})]}),(0,a.jsx)("div",{className:"flex items-end",children:(0,a.jsx)("button",{disabled:m,type:"submit",className:"w-full px-3 py-2 rounded-md text-white bg-orange-600 disabled:opacity-50",children:m?"Searching…":"Search"})})]}),o&&(0,a.jsx)("p",{className:"text-xs mb-2",children:o}),(0,a.jsx)("p",{className:"text-sm mb-2",style:{fontFamily:"var(--font-geist)",fontWeight:600},children:"Recent MCA checks"}),(0,a.jsx)(n.A,{columns:[{key:"cin",header:"CIN"},{key:"company",header:"Company"},{key:"status",header:"Status"},{key:"directors",header:"Directors"},{key:"risk",header:"Risk"}],data:s})]})})}},2782:(e,t,s)=>{Promise.resolve().then(s.bind(s,126))},4548:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var a=s(8097),r=s(2085),l=s(5366);function n(e){let{columns:t,data:s,pageSize:n=8,searchable:i=!0}=e,[c,d]=(0,r.useState)(1),[o,u]=(0,r.useState)(null),[m,x]=(0,r.useState)("asc"),[h,p]=(0,r.useState)(""),b=(0,r.useMemo)(()=>{let e=h.trim().toLowerCase(),t=s;return e&&(t=t.filter(t=>Object.values(t).some(t=>String(t).toLowerCase().includes(e)))),o&&(t=[...t].sort((e,t)=>{let s=e[o],a=t[o];return s===a?0:"asc"===m?String(s)>String(a)?1:-1:String(s)<String(a)?1:-1})),t},[s,h,o,m]),y=Math.max(1,Math.ceil(b.length/n)),f=(c-1)*n,N=b.slice(f,f+n);return(0,a.jsxs)("div",{className:"w-full",children:[i&&(0,a.jsx)("div",{className:"mb-2 flex items-center",children:(0,a.jsxs)("div",{className:"relative w-full max-w-xs",children:[(0,a.jsx)(l.In,{icon:"mdi:magnify",width:18,className:"absolute left-2 top-1/2 -translate-y-1/2 text-neutral-500"}),(0,a.jsx)("input",{value:h,onChange:e=>{p(e.target.value),d(1)},placeholder:"Search…",className:"pl-7 pr-2 py-1.5 text-sm rounded-md border border-neutral-200/70 bg-white/80 w-full"})]})}),(0,a.jsx)("div",{className:"overflow-auto border border-neutral-200/70 rounded-lg",children:(0,a.jsxs)("table",{className:"min-w-full text-sm",children:[(0,a.jsx)("thead",{className:"bg-neutral-50",children:(0,a.jsx)("tr",{children:t.map(e=>(0,a.jsx)("th",{className:"text-left font-normal px-3 py-2 border-b border-neutral-200/70",children:(0,a.jsxs)("button",{className:"inline-flex items-center gap-1 hover:underline",onClick:()=>{o===e.key&&x(e=>"asc"===e?"desc":"asc"),u(e.key)},children:[(0,a.jsx)("span",{children:e.header}),o===e.key&&(0,a.jsx)(l.In,{icon:"asc"===m?"mdi:arrow-up":"mdi:arrow-down",width:14})]})},String(e.key)))})}),(0,a.jsx)("tbody",{children:N.map((e,s)=>(0,a.jsx)("tr",{className:"odd:bg-white even:bg-neutral-50/60",children:t.map(t=>{var s;return(0,a.jsx)("td",{className:"px-3 py-2 border-b border-neutral-200/60",children:t.render?t.render(e):String(null!=(s=e[t.key])?s:"")},String(t.key))})},s))})]})}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,a.jsxs)("p",{className:"text-xs text-neutral-500",children:["Page ",c," of ",y]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("button",{className:"px-2 py-1 text-xs rounded border border-neutral-200/70",disabled:1===c,onClick:()=>d(e=>Math.max(1,e-1)),children:"Prev"}),(0,a.jsx)("button",{className:"px-2 py-1 text-xs rounded border border-neutral-200/70",disabled:c===y,onClick:()=>d(e=>Math.min(y,e+1)),children:"Next"})]})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[9765,5366,1780,8292,7349,1958,7358],()=>t(2782)),_N_E=e.O()}]);