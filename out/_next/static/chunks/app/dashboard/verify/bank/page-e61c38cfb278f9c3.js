(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9338],{811:(e,t,a)=>{Promise.resolve().then(a.bind(a,869))},869:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var s=a(8097),l=a(5806),r=a(5189),n=a(4548),d=a(2085),i=a(3563);function c(){let[e,t]=(0,d.useState)(""),[a,c]=(0,d.useState)(""),[u,o]=(0,d.useState)(""),[m,x]=(0,d.useState)([]),[h,p]=(0,d.useState)(null),[b,f]=(0,d.useState)(!1);async function g(){x((await i.G.verifications.list()).filter(e=>"bank"===e.type).map(e=>{var t,a,s,l,r,n,d;return{account:String(null!=(l=null==(t=e.payload)?void 0:t.account)?l:""),holder:String(null!=(r=null==(a=e.payload)?void 0:a.name)?r:"—"),ifsc:String(null!=(n=null==(s=e.payload)?void 0:s.ifsc)?n:"—"),status:String(null!=(d=e.status)?d:"—"),risk:0}}))}(0,d.useEffect)(()=>{g()},[]);let j=async t=>{t.preventDefault(),f(!0),p(null);try{await i.G.verifications.create("bank",{account:e,ifsc:a,name:u}),p("Bank verification completed."),await g()}catch(e){p(e.message)}finally{f(!1)}};return(0,s.jsx)(l.A,{allowedRoles:["user"],children:(0,s.jsxs)(r.A,{title:"Bank Verification",subtitle:"Validate account holder via penny drop and IFSC checks",children:[(0,s.jsxs)("form",{onSubmit:j,className:"grid grid-cols-1 md:grid-cols-5 gap-2 mb-4",children:[(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)("label",{className:"text-xs text-neutral-600",children:"Account Number"}),(0,s.jsx)("input",{value:e,onChange:e=>t(e.target.value),placeholder:"Enter bank account",className:"w-full px-3 py-2 rounded-md border border-neutral-200/70 text-sm"})]}),(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)("label",{className:"text-xs text-neutral-600",children:"IFSC"}),(0,s.jsx)("input",{value:a,onChange:e=>c(e.target.value.toUpperCase()),placeholder:"HDFC0001234",className:"w-full px-3 py-2 rounded-md border border-neutral-200/70 text-sm"})]}),(0,s.jsxs)("div",{className:"md:col-span-1",children:[(0,s.jsx)("label",{className:"text-xs text-neutral-600",children:"Holder Name"}),(0,s.jsx)("input",{value:u,onChange:e=>o(e.target.value),placeholder:"As per bank",className:"w-full px-3 py-2 rounded-md border border-neutral-200/70 text-sm"})]}),(0,s.jsx)("div",{className:"flex items-end",children:(0,s.jsx)("button",{disabled:b,type:"submit",className:"w-full px-3 py-2 rounded-md text-white bg-orange-600 disabled:opacity-50",children:b?"Verifying…":"Verify"})})]}),h&&(0,s.jsx)("p",{className:"text-xs mb-2",children:h}),(0,s.jsx)("p",{className:"text-sm mb-2",style:{fontFamily:"var(--font-geist)",fontWeight:600},children:"Recent bank checks"}),(0,s.jsx)(n.A,{columns:[{key:"account",header:"Account"},{key:"holder",header:"Holder"},{key:"ifsc",header:"IFSC"},{key:"status",header:"Status"},{key:"risk",header:"Risk"}],data:m})]})})}},4548:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var s=a(8097),l=a(2085),r=a(5366);function n(e){let{columns:t,data:a,pageSize:n=8,searchable:d=!0}=e,[i,c]=(0,l.useState)(1),[u,o]=(0,l.useState)(null),[m,x]=(0,l.useState)("asc"),[h,p]=(0,l.useState)(""),b=(0,l.useMemo)(()=>{let e=h.trim().toLowerCase(),t=a;return e&&(t=t.filter(t=>Object.values(t).some(t=>String(t).toLowerCase().includes(e)))),u&&(t=[...t].sort((e,t)=>{let a=e[u],s=t[u];return a===s?0:"asc"===m?String(a)>String(s)?1:-1:String(a)<String(s)?1:-1})),t},[a,h,u,m]),f=Math.max(1,Math.ceil(b.length/n)),g=(i-1)*n,j=b.slice(g,g+n);return(0,s.jsxs)("div",{className:"w-full",children:[d&&(0,s.jsx)("div",{className:"mb-2 flex items-center",children:(0,s.jsxs)("div",{className:"relative w-full max-w-xs",children:[(0,s.jsx)(r.In,{icon:"mdi:magnify",width:18,className:"absolute left-2 top-1/2 -translate-y-1/2 text-neutral-500"}),(0,s.jsx)("input",{value:h,onChange:e=>{p(e.target.value),c(1)},placeholder:"Search…",className:"pl-7 pr-2 py-1.5 text-sm rounded-md border border-neutral-200/70 bg-white/80 w-full"})]})}),(0,s.jsx)("div",{className:"overflow-auto border border-neutral-200/70 rounded-lg",children:(0,s.jsxs)("table",{className:"min-w-full text-sm",children:[(0,s.jsx)("thead",{className:"bg-neutral-50",children:(0,s.jsx)("tr",{children:t.map(e=>(0,s.jsx)("th",{className:"text-left font-normal px-3 py-2 border-b border-neutral-200/70",children:(0,s.jsxs)("button",{className:"inline-flex items-center gap-1 hover:underline",onClick:()=>{u===e.key&&x(e=>"asc"===e?"desc":"asc"),o(e.key)},children:[(0,s.jsx)("span",{children:e.header}),u===e.key&&(0,s.jsx)(r.In,{icon:"asc"===m?"mdi:arrow-up":"mdi:arrow-down",width:14})]})},String(e.key)))})}),(0,s.jsx)("tbody",{children:j.map((e,a)=>(0,s.jsx)("tr",{className:"odd:bg-white even:bg-neutral-50/60",children:t.map(t=>{var a;return(0,s.jsx)("td",{className:"px-3 py-2 border-b border-neutral-200/60",children:t.render?t.render(e):String(null!=(a=e[t.key])?a:"")},String(t.key))})},a))})]})}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,s.jsxs)("p",{className:"text-xs text-neutral-500",children:["Page ",i," of ",f]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("button",{className:"px-2 py-1 text-xs rounded border border-neutral-200/70",disabled:1===i,onClick:()=>c(e=>Math.max(1,e-1)),children:"Prev"}),(0,s.jsx)("button",{className:"px-2 py-1 text-xs rounded border border-neutral-200/70",disabled:i===f,onClick:()=>c(e=>Math.min(f,e+1)),children:"Next"})]})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[9765,5366,1780,8292,7349,1958,7358],()=>t(811)),_N_E=e.O()}]);