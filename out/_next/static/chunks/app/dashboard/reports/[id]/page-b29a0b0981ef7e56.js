(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9417],{372:(e,t,s)=>{"use strict";s.d(t,{default:()=>x});var r=s(5155),i=s(6310),n=s(5886),a=s(7347),l=s(2115),o=s(9984),c=s(5206),d=s(6874),m=s.n(d),u=s(5950),h=s(7813);function x(e){let{id:t}=e,[s,d]=(0,l.useState)(null),[x,f]=(0,l.useState)(!1),[p,g]=(0,l.useState)(null),[b,v]=(0,l.useState)(!0),[y,j]=(0,l.useState)([]),N=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",s=Date.now().toString();j(r=>[...r,{id:s,message:e,type:t}])};async function w(){try{let e=await o.G.reports.get(t);if(e){d(e);let t=new Date(e.expires_at),s=new Date,r=Math.ceil((t.getTime()-s.getTime())/864e5);g(r)}}catch(e){}finally{v(!1)}}async function k(){f((await o.G.integrations.getDriveStatus()).connected)}(0,l.useEffect)(()=>{w(),k()},[t]);let A=async()=>{try{let e=await o.G.reports.downloadPDF(t);e.pdf_url&&(0,u.gr)(e.pdf_url,"_blank")}catch(e){N("Failed to generate PDF. Please try again.","error")}},C=async()=>{try{await o.G.reports.saveToDrive(t),N("Report saved to Google Drive successfully!","success")}catch(e){N("Failed to save to Drive. Please ensure Drive is connected.","error")}};if(b)return(0,r.jsx)(i.A,{allowedRoles:["user"],children:(0,r.jsx)(n.A,{title:"Loading Report...",subtitle:"Please wait",children:(0,r.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,r.jsx)(a.In,{icon:"mdi:loading",className:"animate-spin text-orange-600",width:32})})})});if(!s)return(0,r.jsx)(i.A,{allowedRoles:["user"],children:(0,r.jsx)(n.A,{title:"Report Not Found",subtitle:"The requested report could not be found",children:(0,r.jsx)(m(),{href:"/dashboard/reports",className:"text-orange-600 hover:text-orange-700",children:"← Back to Reports"})})});let P={vendor:s.vendor||"Neo Components",gstin:"29AAACN9999Q1Z2",pan:"AAACN9999Q",aadhaar:"**** **** 4321",bank:{account:"XXXXXX7890",ifsc:"SBIN0007654"},risk:s.risk_level||74,created_at:s.created_at},R="This vendor verification report indicates a moderate-to-high risk profile (".concat(P.risk,"/100) based on cross-referenced government databases and financial records. The primary concerns stem from identity verification mismatches across multiple verification channels. Specifically, the PAN holder name does not align with the invoice header, suggesting potential intermediary involvement or documentation inconsistencies. The MCA records show an active company status with no outstanding charges, which is positive, but the registered address differs from the GST principal place of business, raising questions about operational consistency. Bank account verification reveals that the account holder name does not match the PAN record, which could indicate third-party payment processing or potential fraud risk. While GST filings are active, there is a one-month delay in recent filings, which may indicate operational or financial stress. Aadhaar verification was successfully completed via OTP, confirming basic identity validity. Overall, this vendor requires enhanced due diligence before engagement, particularly around payment terms and identity verification.");return(0,r.jsx)(i.A,{allowedRoles:["user"],children:(0,r.jsxs)(n.A,{title:"Report ".concat(t),subtitle:"Consolidated vendor verification summary with AI reasoning",children:[null!==p&&p<2&&p>=0&&(0,r.jsxs)(c.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 rounded-xl border border-red-200 bg-red-50 p-4 flex items-start gap-3",children:[(0,r.jsx)(a.In,{icon:"mdi:alert-circle",width:20,className:"text-red-600 flex-shrink-0 mt-0.5"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-red-900 mb-1",children:"Report Expiring Soon"}),(0,r.jsxs)("p",{className:"text-xs text-red-700",children:["This report will be automatically deleted in ",p," day",1!==p?"s":"",". Please download or save to Google Drive to keep a permanent copy."]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[(0,r.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,r.jsxs)("div",{className:"rounded-xl border border-neutral-200/70 bg-white p-6 shadow-sm",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-neutral-900",style:{fontFamily:"var(--font-geist)"},children:"Vendor Details"}),(0,r.jsxs)("div",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat(P.risk<30?"bg-green-100 text-green-700":P.risk<60?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"),children:["Risk Score: ",P.risk,"/100"]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-neutral-500 mb-1",children:"Vendor Name"}),(0,r.jsx)("p",{className:"font-medium text-neutral-900",children:P.vendor})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-neutral-500 mb-1",children:"Report Created"}),(0,r.jsx)("p",{className:"font-medium text-neutral-900",children:new Date(P.created_at).toLocaleString("en-IN",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-neutral-500 mb-1",children:"GSTIN"}),(0,r.jsx)("p",{className:"font-medium text-neutral-900 font-mono",children:P.gstin})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-neutral-500 mb-1",children:"PAN"}),(0,r.jsx)("p",{className:"font-medium text-neutral-900 font-mono",children:P.pan})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-neutral-500 mb-1",children:"Aadhaar"}),(0,r.jsx)("p",{className:"font-medium text-neutral-900",children:P.aadhaar})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-neutral-500 mb-1",children:"Bank Account"}),(0,r.jsxs)("p",{className:"font-medium text-neutral-900",children:[P.bank.account," / ",P.bank.ifsc]})]})]})]}),(0,r.jsxs)("div",{className:"rounded-xl border border-neutral-200/70 bg-gradient-to-br from-blue-50 to-purple-50 p-6 shadow-sm",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,r.jsx)(a.In,{icon:"mdi:brain",width:20,className:"text-purple-600"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-neutral-900",style:{fontFamily:"var(--font-geist)"},children:"AI-Powered Risk Summary"})]}),(0,r.jsx)("p",{className:"text-sm text-neutral-700 leading-relaxed",children:R})]}),(0,r.jsxs)("div",{className:"rounded-xl border border-neutral-200/70 bg-white p-6 shadow-sm",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-neutral-900 mb-4",style:{fontFamily:"var(--font-geist)"},children:"Basic Checks"}),(0,r.jsx)("div",{className:"space-y-3",children:[{check:"GST Verification",status:"Active",details:"Filings delayed by 1 month",risk:"Low"},{check:"PAN Verification",status:"Valid",details:"Name mismatch vs invoice",risk:"Medium"},{check:"Aadhaar Verification",status:"Verified",details:"OTP verified successfully",risk:"Low"},{check:"Bank Account",status:"Verified",details:"Name mismatch detected",risk:"High"},{check:"MCA/CIN",status:"Active",details:"No charges, address mismatch",risk:"Medium"}].map((e,t)=>(0,r.jsxs)("div",{className:"flex items-start justify-between p-3 rounded-lg border border-neutral-100 bg-neutral-50",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-neutral-900",children:e.check}),(0,r.jsx)("p",{className:"text-xs text-neutral-600 mt-1",children:e.details})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("Low"===e.risk?"bg-green-100 text-green-700":"Medium"===e.risk?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"),children:e.risk}),(0,r.jsx)("span",{className:"w-2 h-2 rounded-full ".concat("Active"===e.status||"Verified"===e.status||"Valid"===e.status?"bg-green-500":"bg-yellow-500")})]})]},t))})]}),(0,r.jsxs)("div",{className:"rounded-xl border border-red-200 bg-red-50 p-6 shadow-sm",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,r.jsx)(a.In,{icon:"mdi:flag",width:20,className:"text-red-600"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-neutral-900",style:{fontFamily:"var(--font-geist)"},children:"Red Flags"})]}),(0,r.jsx)("ul",{className:"space-y-2",children:["PAN name mismatch detected against invoice header - potential intermediary or documentation issue","Bank account holder does not match PAN record - possible third-party payment processing","MCA registered address differs from GST principal place - operational inconsistency","GST filings delayed by 1 month - potential financial or operational stress"].map((e,t)=>(0,r.jsxs)("li",{className:"flex items-start gap-2 text-sm text-red-900",children:[(0,r.jsx)(a.In,{icon:"mdi:alert-circle",width:16,className:"text-red-600 flex-shrink-0 mt-0.5"}),(0,r.jsx)("span",{children:e})]},t))})]}),(0,r.jsxs)("div",{className:"rounded-xl border border-blue-200 bg-blue-50 p-6 shadow-sm",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,r.jsx)(a.In,{icon:"mdi:lightbulb-on",width:20,className:"text-blue-600"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-neutral-900",style:{fontFamily:"var(--font-geist)"},children:"Recommended Actions"})]}),(0,r.jsx)("ol",{className:"space-y-2 list-decimal list-inside",children:["Request additional identity documents (Aadhaar card, bank statement) directly from vendor","Conduct manual verification call to confirm business operations and address","Implement enhanced payment terms (e.g., escrow or milestone-based payments)","Schedule in-person or video call meeting with vendor representatives","Review vendor's financial statements and credit history before large orders","Consider requesting trade references from other clients"].map((e,t)=>(0,r.jsx)("li",{className:"text-sm text-neutral-700",children:e},t))})]})]}),(0,r.jsx)("div",{className:"lg:sticky lg:top-6 h-fit",children:(0,r.jsxs)("div",{className:"rounded-xl border border-neutral-200/70 bg-white p-6 shadow-sm space-y-4",children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-neutral-900",style:{fontFamily:"var(--font-geist)"},children:"Actions"}),(0,r.jsxs)("button",{onClick:A,className:"w-full flex items-center justify-center gap-2 px-4 py-3 rounded-lg bg-gradient-to-r from-orange-500 to-blue-600 text-white text-sm font-medium hover:shadow-lg transition",children:[(0,r.jsx)(a.In,{icon:"mdi:file-pdf-box",width:18}),"Download PDF"]}),(0,r.jsxs)("button",{onClick:C,disabled:!x,className:"w-full flex items-center justify-center gap-2 px-4 py-3 rounded-lg border border-neutral-200 text-neutral-700 text-sm font-medium hover:bg-neutral-50 transition disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,r.jsx)(a.In,{icon:"mdi:google-drive",width:18}),x?"Save to Google Drive":"Connect Drive First"]}),!x&&(0,r.jsx)(m(),{href:"/dashboard/integrations",className:"block w-full text-center px-4 py-2 rounded-lg text-xs text-blue-600 hover:text-blue-700 font-medium",children:"Connect Google Drive →"}),(0,r.jsx)("div",{className:"pt-4 border-t border-neutral-100",children:(0,r.jsx)("div",{className:"p-3 rounded-lg bg-amber-50 border border-amber-200",children:(0,r.jsxs)("p",{className:"text-xs text-amber-800",children:[(0,r.jsx)(a.In,{icon:"mdi:information-outline",width:14,className:"inline mr-1"}),"This report will be auto-deleted from Ravono ",null!==p&&p>=0?"".concat(p," day").concat(1!==p?"s":""):"7 days"," after creation. Download or save to Google Drive for long-term storage."]})})})]})})]}),(0,r.jsx)(h.N,{toasts:y,removeToast:e=>{j(t=>t.filter(t=>t.id!==e))}})]})})}},1576:(e,t,s)=>{Promise.resolve().then(s.bind(s,372))},5950:(e,t,s)=>{"use strict";function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_blank",s=window.open(e,t,"noopener,noreferrer");return s&&(s.opener=null),s}function i(e){return"string"!=typeof e?"":e.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/on\w+\s*=\s*["'][^"']*["']/gi,"").replace(/javascript:/gi,"").trim()}s.d(t,{gr:()=>r,o2:()=>i})},7813:(e,t,s)=>{"use strict";s.d(t,{N:()=>c});var r=s(5155),i=s(2115),n=s(5206),a=s(9114),l=s(7347);function o(e){let{message:t,type:s="info",duration:a=5e3,onClose:o}=e;(0,i.useEffect)(()=>{let e=setTimeout(()=>{o()},a);return()=>clearTimeout(e)},[a,o]);let c={success:{bg:"bg-green-50",border:"border-green-200",text:"text-green-800",icon:"text-green-600"},error:{bg:"bg-red-50",border:"border-red-200",text:"text-red-800",icon:"text-red-600"},warning:{bg:"bg-yellow-50",border:"border-yellow-200",text:"text-yellow-800",icon:"text-yellow-600"},info:{bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-800",icon:"text-blue-600"}}[s];return(0,r.jsxs)(n.P.div,{initial:{opacity:0,y:-20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95},className:"fixed bottom-6 right-6 z-50 max-w-md ".concat(c.bg," ").concat(c.border," border rounded-lg shadow-lg p-4 flex items-start gap-3"),role:"alert",children:[(0,r.jsx)(l.In,{icon:{success:"mdi:check-circle",error:"mdi:alert-circle",warning:"mdi:alert",info:"mdi:information"}[s],width:20,className:"".concat(c.icon," flex-shrink-0 mt-0.5")}),(0,r.jsx)("p",{className:"flex-1 text-sm font-medium ".concat(c.text),children:t}),(0,r.jsx)("button",{onClick:o,className:"".concat(c.text," hover:opacity-70 transition-opacity"),"aria-label":"Close notification",children:(0,r.jsx)(l.In,{icon:"mdi:close",width:18})})]})}function c(e){let{toasts:t,removeToast:s}=e;return(0,r.jsx)("div",{className:"fixed bottom-6 right-6 z-50 flex flex-col gap-2",children:(0,r.jsx)(a.N,{children:t.map(e=>(0,r.jsx)(o,{message:e.message,type:e.type,onClose:()=>s(e.id)},e.id))})})}},9114:(e,t,s)=>{"use strict";s.d(t,{N:()=>v});var r=s(5155),i=s(2115),n=s(869),a=s(2885),l=s(7494),o=s(845),c=s(7351),d=s(1508);function m(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class u extends i.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,s=(0,c.s)(e)&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=s-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function h(e){let{children:t,isPresent:s,anchorX:n,root:a}=e,l=(0,i.useId)(),o=(0,i.useRef)(null),c=(0,i.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=(0,i.useContext)(d.Q),x=function(...e){return i.useCallback(function(...e){return t=>{let s=!1,r=e.map(e=>{let r=m(e,t);return s||"function"!=typeof r||(s=!0),r});if(s)return()=>{for(let t=0;t<r.length;t++){let s=r[t];"function"==typeof s?s():m(e[t],null)}}}}(...e),e)}(o,null==t?void 0:t.ref);return(0,i.useInsertionEffect)(()=>{let{width:e,height:t,top:r,left:i,right:d}=c.current;if(s||!o.current||!e||!t)return;o.current.dataset.motionPopId=l;let m=document.createElement("style");h&&(m.nonce=h);let u=null!=a?a:document.head;return u.appendChild(m),m.sheet&&m.sheet.insertRule('\n          [data-motion-pop-id="'.concat(l,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat("left"===n?"left: ".concat(i):"right: ".concat(d),"px !important;\n            top: ").concat(r,"px !important;\n          }\n        ")),()=>{u.contains(m)&&u.removeChild(m)}},[s]),(0,r.jsx)(u,{isPresent:s,childRef:o,sizeRef:c,children:i.cloneElement(t,{ref:x})})}let x=e=>{let{children:t,initial:s,isPresent:n,onExitComplete:l,custom:c,presenceAffectsLayout:d,mode:m,anchorX:u,root:x}=e,p=(0,a.M)(f),g=(0,i.useId)(),b=!0,v=(0,i.useMemo)(()=>(b=!1,{id:g,initial:s,isPresent:n,custom:c,onExitComplete:e=>{for(let t of(p.set(e,!0),p.values()))if(!t)return;l&&l()},register:e=>(p.set(e,!1),()=>p.delete(e))}),[n,p,l]);return d&&b&&(v={...v}),(0,i.useMemo)(()=>{p.forEach((e,t)=>p.set(t,!1))},[n]),i.useEffect(()=>{n||p.size||!l||l()},[n]),"popLayout"===m&&(t=(0,r.jsx)(h,{isPresent:n,anchorX:u,root:x,children:t})),(0,r.jsx)(o.t.Provider,{value:v,children:t})};function f(){return new Map}var p=s(2082);let g=e=>e.key||"";function b(e){let t=[];return i.Children.forEach(e,e=>{(0,i.isValidElement)(e)&&t.push(e)}),t}let v=e=>{let{children:t,custom:s,initial:o=!0,onExitComplete:c,presenceAffectsLayout:d=!0,mode:m="sync",propagate:u=!1,anchorX:h="left",root:f}=e,[v,y]=(0,p.xQ)(u),j=(0,i.useMemo)(()=>b(t),[t]),N=u&&!v?[]:j.map(g),w=(0,i.useRef)(!0),k=(0,i.useRef)(j),A=(0,a.M)(()=>new Map),[C,P]=(0,i.useState)(j),[R,S]=(0,i.useState)(j);(0,l.E)(()=>{w.current=!1,k.current=j;for(let e=0;e<R.length;e++){let t=g(R[e]);N.includes(t)?A.delete(t):!0!==A.get(t)&&A.set(t,!1)}},[R,N.length,N.join("-")]);let I=[];if(j!==C){let e=[...j];for(let t=0;t<R.length;t++){let s=R[t],r=g(s);N.includes(r)||(e.splice(t,0,s),I.push(s))}return"wait"===m&&I.length&&(e=I),S(b(e)),P(j),null}let{forceRender:D}=(0,i.useContext)(n.L);return(0,r.jsx)(r.Fragment,{children:R.map(e=>{let t=g(e),i=(!u||!!v)&&(j===R||N.includes(t));return(0,r.jsx)(x,{isPresent:i,initial:(!w.current||!!o)&&void 0,custom:s,presenceAffectsLayout:d,mode:m,root:f,onExitComplete:i?void 0:()=>{if(!A.has(t))return;A.set(t,!0);let e=!0;A.forEach(t=>{t||(e=!1)}),e&&(null==D||D(),S(k.current),u&&(null==y||y()),c&&c())},anchorX:h,children:e},t)})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[5206,7347,6874,8231,8441,1684,7358],()=>t(1576)),_N_E=e.O()}]);